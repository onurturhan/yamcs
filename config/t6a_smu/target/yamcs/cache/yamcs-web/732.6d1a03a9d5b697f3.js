"use strict";var hn=Object.defineProperty,cn=Object.defineProperties,un=Object.getOwnPropertyDescriptors,$t=Object.getOwnPropertySymbols,Ri=Object.prototype.hasOwnProperty,$i=Object.prototype.propertyIsEnumerable,Bi=Math.pow,Hi=(N,V,z)=>V in N?hn(N,V,{enumerable:!0,configurable:!0,writable:!0,value:z}):N[V]=z,T=(N,V)=>{for(var z in V||(V={}))Ri.call(V,z)&&Hi(N,z,V[z]);if($t)for(var z of $t(V))$i.call(V,z)&&Hi(N,z,V[z]);return N},G=(N,V)=>cn(N,un(V)),Zi=(N,V)=>{var z={};for(var q in N)Ri.call(N,q)&&V.indexOf(q)<0&&(z[q]=N[q]);if(null!=N&&$t)for(var q of $t(N))V.indexOf(q)<0&&$i.call(N,q)&&(z[q]=N[q]);return z};(self.webpackChunkapp=self.webpackChunkapp||[]).push([[732],{3732:(N,V,z)=>{z.d(V,{D0:()=>Yi,zp:()=>Gi,_G:()=>ge,nY:()=>tn,TY:()=>Qi});const q=n=>n;class qi{constructor(t,e=q){this.easing=e,this.duration=200,this._value=t}setTransition(t,e){void 0===t?this._value=e:(this.time0=t,this.src=this.value,this.dst=e)}step(t){if(void 0!==this.dst&&this.dst!==this.value){let e=Math.min((t-this.time0)/this.duration,1);return e=this.easing(e),this._value=this.src+(this.dst-this.src)*e,t-this.time0>this.duration&&this.completeTransition(),!0}return!1}get value(){return this._value}set value(t){this.abortTransition(),this._value=t}abortTransition(){this.time0=void 0,this.src=void 0,this.dst=void 0}completeTransition(){void 0!==this.dst&&(this._value=this.dst,this.abortTransition())}}class Bt{constructor(t){this.mutationListeners=[],this.timeline=t,t.add(this)}get data(){return this._data}set data(t){this._data=t,this.reportMutation()}addMutationListener(t){-1===this.mutationListeners.indexOf(t)&&this.mutationListeners.push(t)}removeMutationListener(t){const e=this.mutationListeners.indexOf(t);-1!==e&&this.mutationListeners.splice(e,1)}reportMutation(){this.mutationListeners.forEach(t=>t()),this.timeline.requestRepaint()}createAnimatableProperty(t){return this.timeline.createAnimatableProperty(t)}beforeDraw(t){}drawUnderlay(t){}drawContent(t){}drawOverlay(t){}disconnectedCallback(){}}class pt extends Bt{constructor(){super(...arguments),this._frozen=!1,this._marginBottom=0,this._marginTop=0,this.coords={x:0,y:0,width:0,height:0}}get label(){return this._label}set label(t){this._label=t,this.reportMutation()}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){this._backgroundColor=t,this.reportMutation()}get borderWidth(){return this._borderWidth}set borderWidth(t){this._borderWidth=t,this.reportMutation()}get borderColor(){return this._borderColor}set borderColor(t){this._borderColor=t,this.reportMutation()}get marginTop(){return this._marginTop}set marginTop(t){this._marginTop=t,this.reportMutation()}get marginBottom(){return this._marginBottom}set marginBottom(t){this._marginBottom=t,this.reportMutation()}get frozen(){return this._frozen}set frozen(t){this._frozen=t,this.reportMutation()}beforeDraw(t){const e=this.calculateContentHeight(t);this.offscreen=t.createChild(this.timeline.mainWidth,e),this.drawBandContent(this.offscreen)}drawContent(t){this.offscreen&&t.copy(this.offscreen,this.x,this.y+this.marginTop)}getContentHeight(){var t;return(null===(t=this.offscreen)||void 0===t?void 0:t.canvas.height)||0}get height(){return this.coords.height}get width(){return this.coords.width}get x(){return this.coords.x}get y(){return this.coords.y}}const me="rgb(255,255,255)";class Ht{constructor(t,e,i){this.parent=t,this.regions={};const s=document.createElement("canvas");s.width=e||s.width,s.height=i||s.height,this.ctx=s.getContext("2d");let r=t;for(;r;)this.root=r,r=r.parent}clear(){this.regions={},this.ctx.fillStyle=me,this.ctx.fillRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height)}beginHitRegion(t){const e=(this.root||this).generateUniqueColor();return(this.root||this).regions[e]=t,this.ctx.beginPath(),this.ctx.fillStyle=e,e}getActiveRegion(t,e){const i=this.ctx.getImageData(t,e,1,1).data;return this.regions[`rgb(${i[0]},${i[1]},${i[2]})`]||void 0}drawRegions(t,e,i){t.drawImage(this.ctx.canvas,e,i)}createChild(t,e){return new Ht(this,t,e)}transferTo(t,e,i,s,r){t.drawImage(this.ctx.canvas,e,i,s,r)}generateUniqueColor(){for(;;){const t=`rgb(${Math.round(255*Math.random())},${Math.round(255*Math.random())},${Math.round(255*Math.random())})`;if(!this.regions[t]&&t!==me)return t}}}function Zt(n,t,e,i,s,r,o){n.beginPath(),r||o?(i<2*r&&(r=i/2),s<2*o&&(o=s/2),n.moveTo(t+r,e),n.lineTo(t+i-r,e),n.quadraticCurveTo(t+i,e,t+i,e+o),n.lineTo(t+i,e+s-o),n.quadraticCurveTo(t+i,e+s,t+i-r,e+s),n.lineTo(t+r,e+s),n.quadraticCurveTo(t,e+s,t,e+s-o),n.lineTo(t,e+o),n.quadraticCurveTo(t,e,t+r,e)):n.rect(t,e,i,s)}class kt{constructor(t,e){this.canvas=t,this.ctx=t.getContext("2d"),this.hitCanvas=e||new Ht,this.hitCtx=this.hitCanvas.ctx}createChild(t,e){const i=this.hitCanvas.createChild(t,e),s=document.createElement("canvas");return s.width=t,s.height=e,new kt(s,i)}copy(t,e,i){this.ctx.drawImage(t.canvas,e,i),t.hitCanvas.transferTo(this.hitCtx,e,i,t.canvas.width,t.canvas.height)}clearHitCanvas(){this.hitCanvas.clear()}fillCanvas(t){this.ctx.fillStyle=t,this.ctx.fillRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height)}resize(t,e){this.ctx.canvas.width===t&&this.ctx.canvas.height===e||(this.ctx.canvas.width=t,this.ctx.canvas.height=e,this.hitCanvas.ctx.canvas.width=t,this.hitCanvas.ctx.canvas.height=e)}fillRect(t){this.ctx.fillStyle="color"in t?t.color:t.gradient,void 0!==t.opacity&&(this.ctx.globalAlpha=t.opacity),t.rx||t.ry?(Zt(this.ctx,t.x,t.y,t.width,t.height,t.rx||0,t.ry||0),this.ctx.fill()):this.ctx.fillRect(t.x,t.y,t.width,t.height),void 0!==t.opacity&&(this.ctx.globalAlpha=1)}fillEllipse(t){var e,i;this.ctx.fillStyle="color"in t?t.color:t.gradient,void 0!==t.opacity&&(this.ctx.globalAlpha=t.opacity),this.ctx.beginPath();const s=null!==(e=t.startAngle)&&void 0!==e?e:0,r=null!==(i=t.endAngle)&&void 0!==i?i:2*Math.PI;this.ctx.ellipse(t.cx,t.cy,t.rx,t.ry,0,s,r,t.anticlockwise),this.ctx.fill(),void 0!==t.opacity&&(this.ctx.globalAlpha=1)}fillText(t){this.ctx.textBaseline=t.baseline,this.ctx.textAlign=t.align,this.ctx.font=t.font,this.ctx.fillStyle=t.color,void 0!==t.opacity&&(this.ctx.globalAlpha=t.opacity),this.ctx.fillText(t.text,t.x,t.y),void 0!==t.opacity&&(this.ctx.globalAlpha=1)}measureText(t,e){return this.ctx.font=e,{width:this.ctx.measureText(t).width}}strokeRect(t){var e;if(t.dash&&this.ctx.setLineDash(t.dash),void 0!==t.opacity&&(this.ctx.globalAlpha=t.opacity),this.ctx.lineWidth=null!==(e=t.lineWidth)&&void 0!==e?e:1,this.ctx.strokeStyle=t.color,t.crispen&&t.lineWidth){const i=function Ai(n,t,e){return void 0===e&&(e=t),{x:n.x+e,y:n.y+t,width:n.width-(e+e),height:n.height-(t+t)}}(t,t.lineWidth/2,t.lineWidth/2);t.rx||t.ry?(Zt(this.ctx,i.x,i.y,i.width,i.height,t.rx||0,t.ry||0),this.ctx.stroke()):this.ctx.strokeRect(i.x,i.y,i.width,i.height)}else t.rx||t.ry?(Zt(this.ctx,t.x,t.y,t.width,t.height,t.rx||0,t.ry||0),this.ctx.stroke()):this.ctx.strokeRect(t.x,t.y,t.width,t.height);void 0!==t.opacity&&(this.ctx.globalAlpha=1),t.dash&&this.ctx.setLineDash([])}strokeEllipse(t){var e,i,s;t.dash&&this.ctx.setLineDash(t.dash),void 0!==t.opacity&&(this.ctx.globalAlpha=t.opacity),this.ctx.lineWidth=null!==(e=t.lineWidth)&&void 0!==e?e:1,this.ctx.beginPath();const r=null!==(i=t.startAngle)&&void 0!==i?i:0,o=null!==(s=t.endAngle)&&void 0!==s?s:2*Math.PI;this.ctx.ellipse(t.cx,t.cy,t.rx,t.ry,0,r,o,t.anticlockwise),this.ctx.strokeStyle="color"in t?t.color:t.gradient,this.ctx.stroke(),void 0!==t.opacity&&(this.ctx.globalAlpha=1),t.dash&&this.ctx.setLineDash([])}strokePath(t){var e;t.dash&&this.ctx.setLineDash(t.dash),this.ctx.beginPath();for(const i of t.path.segments)i.line?this.ctx.lineTo(i.x,i.y):this.ctx.moveTo(i.x,i.y);this.ctx.lineWidth=null!==(e=t.lineWidth)&&void 0!==e?e:1,this.ctx.strokeStyle=t.color,void 0!==t.opacity&&(this.ctx.globalAlpha=t.opacity),this.ctx.stroke(),void 0!==t.opacity&&(this.ctx.globalAlpha=1),t.dash&&this.ctx.setLineDash([])}fillPath(t){this.ctx.beginPath();for(const e of t.path.segments)e.line?this.ctx.lineTo(e.x,e.y):this.ctx.moveTo(e.x,e.y);this.ctx.fillStyle="color"in t?t.color:t.gradient,void 0!==t.opacity&&(this.ctx.globalAlpha=t.opacity),this.ctx.fill(),void 0!==t.opacity&&(this.ctx.globalAlpha=1)}addHitRegion(t){return this.hitCanvas.beginHitRegion(t),new ji(this.hitCanvas.ctx)}}class S{constructor(t,e){this.segments=[],this.segments.push({x:t,y:e,line:!1})}static fromPoints(t){const e=new S(t[0].x,t[0].y);for(let i=1;i<t.length;i++)e.lineTo(t[i].x,t[i].y);return e}getBoundingBox(){const t={x:this.segments[0].x,y:this.segments[0].y},e={x:this.segments[0].x,y:this.segments[0].y};for(let i=0;i<this.segments.length;i++){const s=this.segments[i];s.x<t.x&&(t.x=s.x),s.x>e.x&&(e.x=s.x),s.y<t.y&&(t.y=s.y),s.y>e.y&&(e.y=s.y)}return{x:t.x,y:t.y,width:e.x-t.x,height:e.y-t.y}}lineTo(t,e){return this.segments.push({x:t,y:e,line:!0}),this}moveTo(t,e){return this.segments.push({x:t,y:e,line:!1}),this}closePath(){const t=this.segments[0];return this.segments.push({x:t.x,y:t.y,line:!0}),this}translate(t,e){for(const i of this.segments)i.x+=t,i.y+=e;return this}}class ji{constructor(t){this.ctx=t}addRect(t,e,i,s){return this.ctx.fillRect(t,e,i,s),this}addEllipse(t,e,i,s,r,o,a,l){this.ctx.beginPath(),this.ctx.ellipse(t,e,i,s,r,o,a,l),this.ctx.fill()}addPath(t){this.ctx.beginPath();for(const e of t.segments)e.line?this.ctx.lineTo(e.x,e.y):this.ctx.moveTo(e.x,e.y);this.ctx.fill()}}class fe extends Bt{constructor(){super(...arguments),this._width=200,this._backgroundColor="white",this._clippedWidth=this.createAnimatableProperty(this._width),this._opened=!0}get width(){return this._width}set width(t){this._opened=!0,this._width=t,this._clippedWidth.value=t,this.reportMutation()}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){this._backgroundColor=t,this.reportMutation()}get clippedWidth(){return this._clippedWidth.value}toggle(){this.opened?this.close():this.open()}open(){this.opened||(this._opened=!0,this._clippedWidth.setTransition(this.timeline.frameTime,this._width),this.reportMutation())}close(){this.opened&&(this._opened=!1,this._clippedWidth.setTransition(this.timeline.frameTime,0),this.reportMutation())}get opened(){return this._opened}}class Ui extends fe{constructor(){super(...arguments),this._dividerColor="#b3b3b3",this._foregroundColor="#333",this._fontFamily="Verdana, Geneva, sans-serif",this._textSize=10}drawContent(t){const e=t.createChild(this.width,t.canvas.height);this.drawOffscreen(e),t.copy(e,0,0)}drawOffscreen(t){t.fillRect({x:0,y:0,width:this.clippedWidth,height:t.canvas.height,color:this.timeline.backgroundOddColor});const e=this.timeline.getBands().filter(r=>r.frozen).concat(this.timeline.getBands().filter(r=>!r.frozen));let i=this.timeline.backgroundOddColor;for(let r=0;r<e.length;r++){const o=e[r];this.drawBand(t,o,o.backgroundColor||i,r),i=i===this.timeline.backgroundOddColor?this.timeline.backgroundEvenColor:this.timeline.backgroundOddColor}t.fillRect({x:0,y:0,width:this.clippedWidth,height:t.canvas.height,color:"#eee",opacity:.2});for(const r of e)r.label&&t.fillText({x:5,y:r.y+r.marginTop+(r.height-r.marginTop-r.marginBottom)/2,align:"left",baseline:"middle",color:this.foregroundColor,font:`${this.textSize}px ${this.fontFamily}`,text:r.label});const s=this.clippedWidth-.5;t.strokePath({color:this.dividerColor,path:new S(s,0).lineTo(s,t.canvas.height)})}drawBand(t,e,i,s){var r;t.fillRect({x:0,y:e.y,width:this.width,height:e.height,color:i}),this.hoveredIndex===s&&t.fillRect({x:0,y:e.y,width:this.width,height:e.height,color:"#aaa",opacity:.3}),t.addHitRegion({id:`band-${s}-header`,cursor:"pointer",mouseEnter:()=>{this.hoveredIndex=s,this.reportMutation()},mouseOut:()=>{this.hoveredIndex=void 0,this.reportMutation()},click:()=>{this.timeline.fireEvent("headerclick",{band:e})}}).addRect(0,e.y,this.width,e.height);const a=null!==(r=e.borderWidth)&&void 0!==r?r:this.timeline.bandBorderWidth;if(a){const l=e.y+e.height+a/2;t.strokePath({color:e.borderColor||this.timeline.bandBorderColor,lineWidth:a,path:new S(0,l).lineTo(this.clippedWidth,l)})}}get foregroundColor(){return this._foregroundColor}set foregroundColor(t){this._foregroundColor=t,this.reportMutation()}get dividerColor(){return this._dividerColor}set dividerColor(t){this._dividerColor=t,this.reportMutation()}get fontFamily(){return this._fontFamily}set fontFamily(t){this._fontFamily=t,this.reportMutation()}get textSize(){return this._textSize}set textSize(t){this._textSize=t,this.reportMutation()}}let Xi=1;class Yi extends pt{constructor(t){super(t),this._eventBorderColor="#000000",this._eventBorderWidth=0,this._eventColor="#77b1e1",this._eventCornerRadius=1,this._eventCursor="pointer",this._eventFontFamily="Verdana, Geneva, sans-serif",this._eventHeight=20,this._eventHoverOpacity=.7,this._eventMarginLeft=5,this._eventTextColor="#333",this._eventTextOverflow="show",this._eventTextSize=10,this._events=[],this._lineSpacing=2,this._spaceBetween=0,this._multiline=!0,this._milestoneShape="diamond",this.eventsById=new Map,this.annotatedEvents=[],this.lines=[],this.marginBottom=7,this.marginTop=7}processData(){this.annotatedEvents.length=0;for(const t of this.events||[]){let e=this.eventsById.get(t);void 0===e&&(e="id"+Xi++);const i=Object.assign(Object.assign({},t),{hovered:!1,region:{id:e,cursor:this.eventCursor,click:()=>{this.timeline.fireEvent("eventclick",{event:t})},mouseEnter:()=>{i.hovered=!0,this.reportMutation()},mouseMove:s=>{this.timeline.fireEvent("eventmousemove",{clientX:s.clientX,clientY:s.clientY,event:t})},mouseOut:s=>{i.hovered=!1,this.reportMutation(),this.timeline.fireEvent("eventmouseout",{clientX:s.clientX,clientY:s.clientY,event:t})}}});this.annotatedEvents.push(i)}this.eventsById.clear();for(const t of this.annotatedEvents)this.eventsById.set(t,t.region.id)}calculateContentHeight(t){this.measureEvents(t);const e=this.annotatedEvents.filter(s=>!!s.drawInfo);let i;return this.lines=this.multiline?this.wrapEvents(e):[e],this.lines.length?(i=this.eventHeight*this.lines.length,i+=this.lineSpacing*(this.lines.length-1),i):this.eventHeight}drawBandContent(t){for(let e=0;e<this.lines.length;e++){const i=this.lines[e],s=e*(this.lineSpacing+this.eventHeight);for(const r of i)r.drawInfo.milestone?this.drawMilestone(t,r,s):this.drawEvent(t,r,s)}}drawMilestone(t,e,i){var s,r,o,a;const{startX:l,renderStartX:h,renderStopX:c,label:g,font:d,marginLeft:m}=e.drawInfo,p={x:l,y:i,width:this.eventHeight,height:this.eventHeight},w=e.hovered?this.eventHoverOpacity:1,M={color:null!==(s=e.color)&&void 0!==s?s:this.eventColor,opacity:w,borderWidth:null!==(r=e.borderWidth)&&void 0!==r?r:this.eventBorderWidth,borderColor:null!==(o=e.borderColor)&&void 0!==o?o:this.eventBorderColor};switch(this.milestoneShape){case"diamond":((b,u,y)=>{const x=u.width/2,I=u.height/2,W=new S(u.x+x,u.y).lineTo(u.x+u.width,u.y+I).lineTo(u.x+x,u.y+u.height).lineTo(u.x,u.y+I).closePath();b.fillPath({color:y.color,path:W,opacity:y.opacity}),y.borderWidth&&b.strokePath({path:W,color:y.borderColor,lineWidth:y.borderWidth,opacity:y.opacity})})(t,p,M);break;case"circle":(b=t).fillEllipse({cx:(u=p).x+u.width/2,cy:u.y+u.height/2,rx:u.width/2,ry:u.height/2,color:(y=M).color,opacity:y.opacity}),b.strokeEllipse({cx:u.x+u.width/2,cy:u.y+u.height/2,rx:u.width/2-y.borderWidth/2,ry:u.height/2-y.borderWidth/2,color:y.borderColor,opacity:y.opacity,lineWidth:y.borderWidth});break;case"triangle":((b,u,y)=>{const x=new S(u.x+u.width/2,u.y).lineTo(u.x+u.width,u.y+u.height).lineTo(u.x,u.y+u.height).closePath();b.fillPath({color:y.color,path:x,opacity:y.opacity}),y.borderWidth&&b.strokePath({path:x,color:y.borderColor,lineWidth:y.borderWidth,opacity:y.opacity})})(t,p,M);break;case"reverse_triangle":((b,u,y)=>{const x=new S(u.x,u.y).lineTo(u.x+u.width,u.y).lineTo(u.x+u.width/2,u.y+u.height).closePath();b.fillPath({color:y.color,path:x,opacity:y.opacity}),y.borderWidth&&b.strokePath({path:x,color:y.borderColor,lineWidth:y.borderWidth,opacity:y.opacity})})(t,p,M);break;case"dot":((b,u,y)=>{b.fillEllipse({cx:u.x+u.width/2,cy:u.y+u.height/2,rx:4,ry:4,color:y.color,opacity:y.opacity}),b.strokeEllipse({cx:u.x+u.width/2,cy:u.y+u.height/2,rx:4-y.borderWidth/2,ry:4-y.borderWidth/2,color:y.color,opacity:y.opacity,lineWidth:y.borderWidth})})(t,p,M)}var b,u,y;t.addHitRegion(e.region).addRect(h,i,c-h,this.eventHeight),g&&t.fillText({x:l+p.width+m,y:i+p.height/2,text:g,font:d,baseline:"middle",align:"left",color:null!==(a=e.textColor)&&void 0!==a?a:this.eventTextColor,opacity:w})}drawEvent(t,e,i){var s,r,o,a,l,h;const{startX:c,stopX:g,label:d,renderStartX:m,renderStopX:p,marginLeft:w,offscreenStart:M,labelFitsBox:b,font:u}=e.drawInfo,y=e.hovered?this.eventHoverOpacity:1,x={x:Math.round(c),y:i,width:Math.round(g-Math.round(c)),height:this.eventHeight},I=null!==(s=e.cornerRadius)&&void 0!==s?s:this.eventCornerRadius;t.fillRect(Object.assign(Object.assign({},x),{rx:I,ry:I,color:null!==(r=e.color)&&void 0!==r?r:this.eventColor,opacity:y})),t.addHitRegion(e.region).addRect(m,i,p-m,this.eventHeight);const W=null!==(o=e.borderWidth)&&void 0!==o?o:this.eventBorderWidth;if(W&&t.strokeRect(Object.assign(Object.assign({},x),{rx:I,ry:I,color:null!==(a=e.borderColor)&&void 0!==a?a:this.eventBorderColor,lineWidth:W,crispen:!0,opacity:y})),d){let E=x.x+w;const at=x.y+x.height/2;if(M&&(E=this.timeline.positionTime(this.timeline.start)),b||"show"===this.eventTextOverflow)t.fillText({x:E,y:at,text:d,font:u,baseline:"middle",align:"left",color:null!==(l=e.textColor)&&void 0!==l?l:this.eventTextColor,opacity:y});else if("clip"===this.eventTextOverflow){const K=document.createElement("canvas");K.width=x.width,K.height=x.height;const tt=K.getContext("2d");tt.fillStyle=null!==(h=e.textColor)&&void 0!==h?h:this.eventTextColor,tt.font=u,tt.textBaseline="middle",tt.textAlign="left",e.hovered&&(tt.globalAlpha=this.eventHoverOpacity),tt.fillText(d,w,x.height/2),t.ctx.drawImage(K,x.x,x.y)}}}measureEvents(t){var e,i,s;for(const r of this.annotatedEvents){const o=!r.stop,a=r.start,l=r.stop||r.start;if(a>this.timeline.stop||l<this.timeline.start){r.drawInfo=void 0;continue}let h=r.label||"";const c=`${null!==(e=r.textSize)&&void 0!==e?e:this.eventTextSize}px ${null!==(i=r.fontFamily)&&void 0!==i?i:this.eventFontFamily}`,g=null!==(s=r.marginLeft)&&void 0!==s?s:this.eventMarginLeft,d=a<this.timeline.start&&l>this.timeline.start;let m,p,w,M=this.timeline.positionTime(a),b=this.timeline.positionTime(l);if(o){const u=this.eventHeight/2;M-=u,b+=u,p=M,w=b,m=!1,h&&"show"===this.eventTextOverflow?w+=g+t.measureText(h,c).width:h=""}else{d&&(h="\u25c0"+h);const u=t.measureText(h,c);d?(p=this.timeline.positionTime(this.timeline.start),w=Math.max(p+u.width,b),m=!1):(p=M,w=b,m=w-p-g>=u.width,m||("show"===this.eventTextOverflow?w=p+g+u.width:"hide"===this.eventTextOverflow&&(h="")))}r.drawInfo={font:c,marginLeft:g,offscreenStart:d,startX:M,stopX:b,renderStartX:p,renderStopX:w,label:h,labelFitsBox:m,milestone:o}}}wrapEvents(t){const e=[];for(const i of t){const{renderStartX:s,renderStopX:r}=i.drawInfo;let o=!1;for(const a of e){let l=0,h=a.length-1;for(;l<=h;){const c=Math.floor((l+h)/2),d=a[c].drawInfo.renderStopX;if(r+this.spaceBetween<=a[c].drawInfo.renderStartX)h=c-1;else{if(!(s>=d+this.spaceBetween))break;l=c+1}}if(l>h){a.splice(l,0,i),o=!0;break}}o||e.push([i])}return e}get events(){return this._events}set events(t){this._events=t,this.processData(),this.reportMutation()}get eventHeight(){return this._eventHeight}set eventHeight(t){this._eventHeight=t,this.reportMutation()}get eventColor(){return this._eventColor}set eventColor(t){this._eventColor=t,this.reportMutation()}get eventTextColor(){return this._eventTextColor}set eventTextColor(t){this._eventTextColor=t,this.reportMutation()}get eventTextSize(){return this._eventTextSize}set eventTextSize(t){this._eventTextSize=t,this.reportMutation()}get eventFontFamily(){return this._eventFontFamily}set eventFontFamily(t){this._eventFontFamily=t,this.reportMutation()}get eventBorderWidth(){return this._eventBorderWidth}set eventBorderWidth(t){this._eventBorderWidth=t,this.reportMutation()}get eventBorderColor(){return this._eventBorderColor}set eventBorderColor(t){this._eventBorderColor=t,this.reportMutation()}get eventMarginLeft(){return this._eventMarginLeft}set eventMarginLeft(t){this._eventMarginLeft=t,this.reportMutation()}get eventCornerRadius(){return this._eventCornerRadius}set eventCornerRadius(t){this._eventCornerRadius=t,this.reportMutation()}get multiline(){return this._multiline}set multiline(t){this._multiline=t,this.reportMutation()}get spaceBetween(){return this._spaceBetween}set spaceBetween(t){this._spaceBetween=t,this.reportMutation()}get lineSpacing(){return this._lineSpacing}set lineSpacing(t){this._lineSpacing=t,this.reportMutation()}get eventTextOverflow(){return this._eventTextOverflow}set eventTextOverflow(t){this._eventTextOverflow=t,this.reportMutation()}get eventCursor(){return this._eventCursor}set eventCursor(t){this._eventCursor=t,this.reportMutation()}get eventHoverOpacity(){return this._eventHoverOpacity}set eventHoverOpacity(t){this._eventHoverOpacity=t,this.reportMutation()}get milestoneShape(){return this._milestoneShape}set milestoneShape(t){this._milestoneShape=t,this.reportMutation()}}class ge extends Bt{constructor(t,e){super(t),this.timeProvider=e,this._knobColor="red",this._knobRadius=3,this._lineColor="red",this._lineWidth=1,this._lineDash=[]}drawOverlay(t){const e=this.timeProvider();if(void 0===e)return;const i=Math.round(this.timeline.positionTime(e));t.strokePath({color:this.lineColor,lineWidth:this.lineWidth,dash:this.lineDash,path:new S(i+.5,0).lineTo(i+.5,t.canvas.height)}),t.ctx.beginPath(),t.ctx.arc(i+.5,0,this.knobRadius,0,2*Math.PI),t.ctx.fillStyle=this.knobColor,t.ctx.fill()}get knobColor(){return this._knobColor}set knobColor(t){this._knobColor=t,this.reportMutation()}get knobRadius(){return this._knobRadius}set knobRadius(t){this._knobRadius=t,this.reportMutation()}get lineColor(){return this._lineColor}set lineColor(t){this._lineColor=t,this.reportMutation()}get lineWidth(){return this._lineWidth}set lineWidth(t){this._lineWidth=t,this.reportMutation()}get lineDash(){return this._lineDash}set lineDash(t){this._lineDash=t,this.reportMutation()}}class Gi extends ge{constructor(t){super(t,()=>this.time),this.mouseMoveListener=e=>{e.time!==this.time&&(this.time=e.time,this.reportMutation())},this.mouseOutListener=()=>{this.time=void 0,this.reportMutation()},this.lineColor="#ccc",this.knobColor="#ccc",this.lineDash=[4,3],t.addViewportMouseMoveListener(this.mouseMoveListener),t.addViewportMouseOutListener(this.mouseOutListener)}disconnectedCallback(){this.timeline.removeViewportMouseMoveListener(this.mouseMoveListener),this.timeline.removeViewportMouseOutListener(this.mouseOutListener)}}const qt=n=>(document.removeEventListener("click",qt,!0),n.preventDefault(),n.stopPropagation(),!1);function At(n){return 1==(1&n.buttons)||void 0===n.buttons&&1==n.which}function pe(n,t){return n&&t&&n.id===t.id}class Ji{constructor(t,e,i){this.timeline=t,this.canvas=e,this.hitCanvas=i,this.tool="hand",this.grabbing=!1,this.isDividerHover=!1,this.isViewportHover=!1,this.documentMouseMoveListener=s=>this.onDocumentMouseMove(s),this.documentMouseUpListener=s=>this.onDocumentMouseUp(s),e.addEventListener("click",s=>this.onCanvasClick(s),!1),e.addEventListener("mousedown",s=>this.onCanvasMouseDown(s),!1),e.addEventListener("mouseout",s=>this.onCanvasMouseOut(s),!1),e.addEventListener("mousemove",s=>this.onCanvasMouseMove(s),!1),e.addEventListener("wheel",s=>this.onWheel(s),!1)}toPoint(t){const e=this.canvas.getBoundingClientRect();return{x:t.clientX-e.left,y:t.clientY-e.top}}toTimelineMouseEvent(t){var e;const i=this.toPoint(t),s=(null===(e=this.timeline.sidebar)||void 0===e?void 0:e.clippedWidth)||0;let r,o,a;return this.timeline.sidebar?(r=i.x<=s-5,o=!r&&i.x<=s+5,a=!r&&!o):(r=!1,o=!1,a=!0),{clientX:t.clientX,clientY:t.clientY,point:i,viewportPoint:{x:i.x-s,y:i.y},overSidebar:r,overDivider:o,overViewport:a}}onCanvasClick(t){this.timeline.clearSelection();const e=this.toTimelineMouseEvent(t),i=this.hitCanvas.getActiveRegion(e.point.x,e.point.y);(null==i?void 0:i.click)&&i.click()}onCanvasMouseDown(t){var e;if(document.removeEventListener("click",qt,!0),At(t)){const i=(null===(e=this.timeline.sidebar)||void 0===e?void 0:e.clippedWidth)||0,s=this.canvas.getBoundingClientRect(),r=t.clientX-s.left,o=t.clientY-s.top;if(this.timeline.sidebar&&i-5<r&&r<=i+5)return this.grabTarget="DIVIDER",this.grabPoint={x:r,y:o},this.initiateGrab(),t.preventDefault(),t.stopPropagation(),!1;if(this.tool)return this.grabTarget="VIEWPORT",this.grabPoint={x:r,y:o},t.preventDefault(),t.stopPropagation(),!1}}onCanvasMouseOut(t){if(this.prevEnteredRegion&&this.prevEnteredRegion.mouseOut){const e=this.toTimelineMouseEvent(t);this.prevEnteredRegion.mouseOut(e)}this.prevEnteredRegion=void 0,this.maybeFireViewportMouseOut(t),this.isDividerHover=!1,this.isViewportHover=!1,t.preventDefault(),t.stopPropagation()}onCanvasMouseMove(t){const e=this.toTimelineMouseEvent(t);e.overViewport||this.maybeFireViewportMouseOut(t),this.isViewportHover=e.overViewport,this.isDividerHover=e.overDivider;let i="default";if(e.overViewport){const h={clientX:t.clientX,clientY:t.clientY,time:this.mouse2time(e.point.x)};this.timeline.fireEvent("viewportmousemove",h)}const s=this.hitCanvas.getActiveRegion(e.point.x,e.point.y);if(this.prevEnteredRegion&&this.prevEnteredRegion.mouseOut&&(pe(this.prevEnteredRegion,s)||this.prevEnteredRegion.mouseOut(e)),s&&s.mouseEnter&&(pe(this.prevEnteredRegion,s)||s.mouseEnter()),s&&s.mouseMove&&s.mouseMove(e),this.prevEnteredRegion=s,i=(null==s?void 0:s.cursor)||"default",this.grabPoint&&!this.grabbing&&At(t)){const{point:h}=e,c=(r=this.grabPoint.x,o=this.grabPoint.y,a=h.x,l=h.y,Math.sqrt((a-r)*(a-r)+(l-o)*(l-o)));Math.abs(c)>5&&(this.initiateGrab(),this.grabPoint&&"range-select"!==this.tool&&(this.grabPoint=h))}var r,o,a,l;if(this.updateCursor(i),this.grabbing&&this.grabTarget&&At(t)){t.preventDefault(),t.stopPropagation();const{point:h}=e;switch(this.grabTarget){case"DIVIDER":this.timeline.sidebar&&(this.timeline.sidebar.width=h.x);break;case"VIEWPORT":switch(this.tool){case"hand":this.timeline.panBy(-(h.x-this.grabPoint.x),!1),this.grabPoint=h;break;case"range-select":const g=this.mouse2time(this.grabPoint.x),d=this.mouse2time(h.x);this.timeline.setSelection(g,d)}}}}initiateGrab(){document.addEventListener("click",qt,!0),document.addEventListener("mouseup",this.documentMouseUpListener),document.addEventListener("mousemove",this.documentMouseMoveListener),this.grabbing=!0}onWheel(t){var e;const i=this.canvas.getBoundingClientRect(),s=t.clientX-i.left;if(s>((null===(e=this.timeline.sidebar)||void 0===e?void 0:e.clippedWidth)||0)){t.deltaX>0?this.timeline.panBy(50):t.deltaX<0&&this.timeline.panBy(-50);const r=this.mouse2time(s);return t.deltaY>0?this.timeline.zoom(2,!0,r):t.deltaY<0&&this.timeline.zoom(.5,!0,r),t.preventDefault(),t.stopPropagation(),!1}}onDocumentMouseUp(t){this.grabbing&&(document.removeEventListener("mouseup",this.documentMouseUpListener),document.removeEventListener("mousemove",this.documentMouseMoveListener),this.grabbing=!1,this.grabPoint=void 0,this.grabTarget=void 0,this.updateCursor())}onDocumentMouseMove(t){this.onCanvasMouseMove(t)}mouse2time(t){var e;const i=t-((null===(e=this.timeline.sidebar)||void 0===e?void 0:e.clippedWidth)||0);return this.timeline.start+i/this.timeline.mainWidth*(this.timeline.stop-this.timeline.start)}maybeFireViewportMouseOut(t){this.isViewportHover&&this.timeline.fireEvent("viewportmouseout",{clientX:t.clientX,clientY:t.clientY})}updateCursor(t="default"){let e=t;"DIVIDER"===this.grabTarget||this.isDividerHover||this.grabbing&&"range-select"===this.tool?e="col-resize":this.grabbing&&"hand"===this.tool&&(e="grabbing"),e!=this.canvas.style.cursor&&(this.canvas.style.cursor=e)}}class Qi{constructor(t){this.targetElement=t,this._drawables=[],this.repaintRequested=!1,this.autoRepaintDelay=1e3,this.eventListeners={headerclick:[],eventclick:[],eventmousemove:[],eventmouseout:[],viewportchange:[],viewportmousemove:[],viewportmouseout:[],viewportselection:[]},this.animated=!0,this.animatableProperties=[],this._backgroundOddColor="white",this._backgroundEvenColor="#f5f5f5",this._foregroundColor="grey",this._bandBorderColor="#e8e8e8",this._bandBorderWidth=1,this._fontFamily="Verdana, Geneva, sans-serif",this._textSize=10,this._unselectedBackgroundColor="#aaa",this._unselectedOpacity=.3,this._selectedBackgroundColor="transparent",this._selectedOpacity=.2,this._selectedLineDash=[4,3],this._selectedLineColor="transparent",this.rootPanel=document.createElement("div"),this.rootPanel.className="timeline-root",this.rootPanel.style.overflow="hidden",this.rootPanel.style.position="relative",this.rootPanel.style.fontSize="0",t.appendChild(this.rootPanel),this.scrollPanel=document.createElement("div"),this.scrollPanel.className="timeline-scroll",this.scrollPanel.style.height="100%",this.scrollPanel.style.overflow="hidden",this.scrollPanel.style.position="relative",this.scrollPanel.style.fontSize="0",this.rootPanel.appendChild(this.scrollPanel);const e=document.createElement("canvas");this.scrollPanel.appendChild(e),this.g=new kt(e),this._start=this.createAnimatableProperty(0),this._stop=this.createAnimatableProperty(100),this.scrollPanel.addEventListener("scroll",()=>{this.requestRepaint()}),this.eventHandler=new Ji(this,e,this.g.hitCanvas);const i=document.createElement("canvas");i.className="timeline-frozen",i.style.position="absolute",i.style.top="0",i.style.left="0",i.style.pointerEvents="none",this.rootPanel.appendChild(i),this.frozenGraphics=new kt(i),this.sidebar=new Ui(this),window.requestAnimationFrame(s=>this.step(s)),this.repaintIntervalHandle=window.setInterval(()=>this.requestRepaint(),this.autoRepaintDelay)}disconnect(){var t;this.repaintIntervalHandle&&window.clearInterval(this.repaintIntervalHandle);for(const e of this._drawables)e.disconnectedCallback();null===(t=this.sidebar)||void 0===t||t.disconnectedCallback()}createAnimatableProperty(t){const e=new qi(t);return this.animatableProperties.push(e),e}step(t){window.requestAnimationFrame(e=>this.step(e)),this.frameTime=t;for(const e of this.animatableProperties)this.animated?e.step(t)&&(this.repaintRequested=!0):e.completeTransition();this.repaintRequested&&(this.g.clearHitCanvas(),this.drawScreen(),this.repaintRequested=!1)}setViewRange(t,e,i=!0){const s=e-t;null!=this.min&&(e=(t=Math.max(this.min,t))+s),null!=this.max&&(t=(e=Math.min(this.max,e))-s),this.animated&&i?(this._start.setTransition(this.frameTime,t),this._stop.setTransition(this.frameTime,e)):(this._start.value=t,this._stop.value=e),this.fireEvent("viewportchange",{start:t,stop:e}),this.requestRepaint()}setSelection(t,e){this.selection=e>t?{start:t,stop:e}:e===t?void 0:{start:e,stop:t},this.fireEvent("viewportselection",{selection:this.selection}),this.requestRepaint()}clearSelection(){this.selection=void 0,this.fireEvent("viewportselection",{selection:this.selection}),this.requestRepaint()}get start(){return this._start.value}get stop(){return this._stop.value}get min(){return this._min}set min(t){console.log("min becomes",t),this._min=t,this.setViewRange(this.start,this.stop,!1)}get max(){return this._max}set max(t){this._max=t,this.setViewRange(this.start,this.stop,!1)}get width(){return this.scrollPanel.clientWidth}get sidebar(){return this._sidebar}set sidebar(t){var e;this._sidebar!==t&&(null===(e=this._sidebar)||void 0===e||e.disconnectedCallback(),this._sidebar=t)}get cursor(){return this.g.canvas.style.cursor}set cursor(t){t!==this.cursor&&(this.g.canvas.style.cursor=t)}toDataURL(t="image/png",e){return this.g.ctx.canvas.toDataURL(t,e)}requestRepaint(){this.repaintRequested=!0}get mainWidth(){var t;let e=(null===(t=this.sidebar)||void 0===t?void 0:t.clippedWidth)||0;return this.width-e}add(t){return t instanceof fe?this.sidebar=t:-1===this._drawables.indexOf(t)&&(this._drawables.push(t),this.requestRepaint()),t}addEventClickListener(t){this.eventListeners.eventclick.push(t)}removeEventClickListener(t){this.eventListeners.eventclick=this.eventListeners.eventclick.filter(e=>e!==t)}addEventMouseMoveListener(t){this.eventListeners.eventmousemove.push(t)}removeEventMouseMoveListener(t){this.eventListeners.eventmousemove=this.eventListeners.eventmousemove.filter(e=>e!==t)}addEventMouseOutListener(t){this.eventListeners.eventmouseout.push(t)}removeEventMouseOutListener(t){this.eventListeners.eventmouseout=this.eventListeners.eventmouseout.filter(e=>e!==t)}addHeaderClickListener(t){this.eventListeners.headerclick.push(t)}removeHeaderClickListener(t){this.eventListeners.headerclick=this.eventListeners.headerclick.filter(e=>e!==t)}addViewportChangeListener(t){this.eventListeners.viewportchange.push(t)}removeViewportChangeListener(t){this.eventListeners.viewportchange=this.eventListeners.viewportchange.filter(e=>e!==t)}addViewportMouseMoveListener(t){this.eventListeners.viewportmousemove.push(t)}removeViewportMouseMoveListener(t){this.eventListeners.viewportmousemove=this.eventListeners.viewportmousemove.filter(e=>e!==t)}addViewportMouseOutListener(t){this.eventListeners.viewportmouseout.push(t)}removeViewportMouseOutListener(t){this.eventListeners.viewportmouseout=this.eventListeners.viewportmouseout.filter(e=>e!==t)}addViewportSelectionListener(t){this.eventListeners.viewportselection.push(t)}removeViewportSelectionListener(t){this.eventListeners.viewportselection=this.eventListeners.viewportselection.filter(e=>e!==t)}fireEvent(t,e){this.eventListeners[t].forEach(i=>i(e))}panBy(t,e=!0){const s=t/this.mainWidth*(this.stop-this.start);this.setViewRange(this.start+s,this.stop+s,e)}panTo(t,e=!0){const i=(this.stop-this.start)/2;this.setViewRange(t-i,t+i,e)}get center(){return this.start+(this.stop-this.start)/2}set center(t){this.panTo(t,!1)}getChildren(){return[...this._drawables]}getBands(){return this._drawables.filter(t=>t instanceof pt)}removeChild(t){if(t===this.sidebar)return t.disconnectedCallback(),this.sidebar=void 0,this.requestRepaint(),!0;{const e=this._drawables.indexOf(t);return-1!==e&&(t.disconnectedCallback(),this._drawables.splice(e,1),this.requestRepaint(),!0)}}positionTime(t){return this.distanceBetween(this.start,t)}distanceBetween(t,e){return this.mainWidth*((e-t)/(this.stop-this.start))}setActiveTool(t){this.eventHandler.tool=t}zoomIn(){this.zoom(.5)}zoomOut(){this.zoom(2)}zoom(t,e=!0,i){if(t<=0)throw new Error("Zoom factor should be a positive number");void 0===i&&(i=this.center);const s=(i-this.start)/(this.stop-this.start),r=(this.stop-this.start)*t;this.setViewRange(i-s*r,i+(1-s)*r,e)}get backgroundOddColor(){return this._backgroundOddColor}set backgroundOddColor(t){this._backgroundOddColor=t,this.requestRepaint()}get backgroundEvenColor(){return this._backgroundEvenColor}set backgroundEvenColor(t){this._backgroundEvenColor=t,this.requestRepaint()}get foregroundColor(){return this._foregroundColor}set foregroundColor(t){this._foregroundColor=t,this.requestRepaint()}get fontFamily(){return this._fontFamily}set fontFamily(t){this._fontFamily=t,this.requestRepaint()}get textSize(){return this._textSize}set textSize(t){this._textSize=t,this.requestRepaint()}get bandBorderColor(){return this._bandBorderColor}set bandBorderColor(t){this._bandBorderColor=t,this.requestRepaint()}get bandBorderWidth(){return this._bandBorderWidth}set bandBorderWidth(t){this._bandBorderWidth=t,this.requestRepaint()}drawScreen(){var t,e,i;for(const c of this._drawables)c.beforeDraw(this.g);const s=this.getBands().filter(c=>c.frozen).concat(this.getBands().filter(c=>!c.frozen));let r=0;for(const c of s)c.coords.x=0,c.coords.y=r,c.coords.width=this.mainWidth,c.coords.height=c.marginTop+c.getContentHeight()+c.marginBottom,r+=c.height+(null!==(t=c.borderWidth)&&void 0!==t?t:this.bandBorderWidth);this.rootPanel.style.height=this.targetElement.clientHeight+"px",this.scrollPanel.style.overflowY=r>this.scrollPanel.clientHeight?"scroll":"hidden";let o=this.scrollPanel.clientWidth;const a=Math.max(r,this.scrollPanel.clientHeight);this.g.resize(o,a),this.g.fillCanvas(this.backgroundOddColor),null===(e=this.sidebar)||void 0===e||e.drawContent(this.g);const l=this.g.createChild(this.mainWidth,a),h=(null===(i=this.sidebar)||void 0===i?void 0:i.clippedWidth)||0;this.drawOffscreen(l),this.g.copy(l,h,0),this.drawFrozenTop()}drawOffscreen(t){var e;let i=this.backgroundOddColor;for(const s of this._drawables)s instanceof pt&&(t.fillRect({x:s.x,y:s.y,width:t.canvas.width,height:s.height,color:i}),i=i===this.backgroundOddColor?this.backgroundEvenColor:this.backgroundOddColor,s.backgroundColor&&t.fillRect({x:s.x,y:s.y,width:t.canvas.width,height:s.height,color:s.backgroundColor}));for(const s of this._drawables)if(s.drawUnderlay(t),s instanceof pt){const r=s,o=null!==(e=r.borderWidth)&&void 0!==e?e:this.bandBorderWidth;if(o){const a=s.y+s.height+o/2;t.strokePath({color:r.borderColor||this.bandBorderColor,lineWidth:o,path:new S(0,a).lineTo(t.canvas.width,a)})}}for(const s of this._drawables)s.drawContent(t);for(const s of this._drawables)s.drawOverlay(t);this.drawSelection(t)}drawSelection(t){if(!this.selection)return;const e=Math.round(this.positionTime(this.selection.start)),i=Math.round(this.positionTime(this.selection.stop));t.fillRect({x:0,y:0,width:e,height:t.canvas.height,color:this._unselectedBackgroundColor,opacity:this._unselectedOpacity}),t.fillRect({x:i,y:0,width:t.canvas.width-i,height:t.canvas.height,color:this._unselectedBackgroundColor,opacity:this._unselectedOpacity}),t.fillRect({x:e,y:0,width:t.canvas.width,height:t.canvas.height,color:this._selectedBackgroundColor,opacity:this._selectedOpacity}),t.strokePath({color:this._selectedLineColor,dash:this._selectedLineDash,path:new S(e+.5,0).lineTo(e+.5,t.canvas.height).moveTo(i-.5,0).lineTo(i-.5,t.canvas.height)})}drawFrozenTop(){var t;const e=this.frozenGraphics.ctx,i=this.g.canvas.width;let s=0;for(const r of this.getBands())r.frozen&&(s+=r.height+(null!==(t=r.borderWidth)&&void 0!==t?t:this.bandBorderWidth));var r,o,a;a=s,(r=this.frozenGraphics.canvas).width==(o=i)&&r.height==a||(r.width=o,r.height=a),s&&e.drawImage(this.g.canvas,0,0)}}class et extends Error{}class Ki extends et{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class ts extends et{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class es extends et{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class yt extends et{}class ye extends et{constructor(t){super(`Invalid unit ${t}`)}}class B extends et{}class J extends et{constructor(){super("Zone is an abstract class")}}const f="numeric",A="short",$="long",jt={year:f,month:f,day:f},ve={year:f,month:A,day:f},is={year:f,month:A,day:f,weekday:A},we={year:f,month:$,day:f},be={year:f,month:$,day:f,weekday:$},xe={hour:f,minute:f},Te={hour:f,minute:f,second:f},Me={hour:f,minute:f,second:f,timeZoneName:A},Ce={hour:f,minute:f,second:f,timeZoneName:$},ke={hour:f,minute:f,hourCycle:"h23"},Se={hour:f,minute:f,second:f,hourCycle:"h23"},Oe={hour:f,minute:f,second:f,hourCycle:"h23",timeZoneName:A},Ee={hour:f,minute:f,second:f,hourCycle:"h23",timeZoneName:$},De={year:f,month:f,day:f,hour:f,minute:f},Le={year:f,month:f,day:f,hour:f,minute:f,second:f},_e={year:f,month:A,day:f,hour:f,minute:f},Ne={year:f,month:A,day:f,hour:f,minute:f,second:f},ss={year:f,month:A,day:f,weekday:A,hour:f,minute:f},Ve={year:f,month:$,day:f,hour:f,minute:f,timeZoneName:A},Ie={year:f,month:$,day:f,hour:f,minute:f,second:f,timeZoneName:A},We={year:f,month:$,day:f,weekday:$,hour:f,minute:f,timeZoneName:$},ze={year:f,month:$,day:f,weekday:$,hour:f,minute:f,second:f,timeZoneName:$};function C(n){return void 0===n}function it(n){return"number"==typeof n}function St(n){return"number"==typeof n&&n%1==0}function Pe(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(n){return!1}}function Fe(n,t,e){if(0!==n.length)return n.reduce((i,s)=>{const r=[t(s),s];return i&&e(i[0],r[0])===i[0]?i:r},null)[1]}function lt(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function Y(n,t,e){return St(n)&&n>=t&&n<=e}function ht(n,t=2){const e=n<0?"-":"",i=e?-1*n:n;let s;return s=i.toString().length<t?("0".repeat(t)+i).slice(-t):i.toString(),`${e}${s}`}function F(n){return C(n)||null===n||""===n?void 0:parseInt(n,10)}function Ut(n){if(!C(n)&&null!==n&&""!==n){const t=1e3*parseFloat("0."+n);return Math.floor(t)}}function Xt(n,t,e=!1){const i=Bi(10,t);return(e?Math.trunc:Math.round)(n*i)/i}function vt(n){return n%4==0&&(n%100!=0||n%400==0)}function wt(n){return vt(n)?366:365}function Ot(n,t){const e=(i=t-1)-12*Math.floor(i/12)+1;var i;return 2===e?vt(n+(t-e)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][e-1]}function Yt(n){let t=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(t=new Date(t),t.setUTCFullYear(t.getUTCFullYear()-1900)),+t}function Et(n){const t=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7,e=n-1,i=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7;return 4===t||3===i?53:52}function Gt(n){return n>99?n:n>60?1900+n:2e3+n}function Re(n,t,e,i=null){const s=new Date(n),r={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(r.timeZone=i);const o=T({timeZoneName:t},r),a=new Intl.DateTimeFormat(e,o).formatToParts(s).find(l=>"timezonename"===l.type.toLowerCase());return a?a.value:null}function Dt(n,t){let e=parseInt(n,10);Number.isNaN(e)&&(e=0);const i=parseInt(t,10)||0;return 60*e+(e<0||Object.is(e,-0)?-i:i)}function $e(n){const t=Number(n);if("boolean"==typeof n||""===n||Number.isNaN(t))throw new B(`Invalid unit value ${n}`);return t}function Lt(n,t){const e={};for(const i in n)if(lt(n,i)){const s=n[i];if(null==s)continue;e[t(i)]=$e(s)}return e}function _t(n,t){const e=Math.trunc(Math.abs(n/60)),i=Math.trunc(Math.abs(n%60)),s=n>=0?"+":"-";switch(t){case"short":return`${s}${ht(e,2)}:${ht(i,2)}`;case"narrow":return`${s}${e}${i>0?`:${i}`:""}`;case"techie":return`${s}${ht(e,2)}${ht(i,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function Nt(n){return t=n,["hour","minute","second","millisecond"].reduce((i,s)=>(i[s]=t[s],i),{});var t}const Be=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z_+-]{1,256}(\/[A-Za-z_+-]{1,256})?)?/,ns=["January","February","March","April","May","June","July","August","September","October","November","December"],He=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],rs=["J","F","M","A","M","J","J","A","S","O","N","D"];function Ze(n){switch(n){case"narrow":return[...rs];case"short":return[...He];case"long":return[...ns];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const qe=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Ae=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],os=["M","T","W","T","F","S","S"];function je(n){switch(n){case"narrow":return[...os];case"short":return[...Ae];case"long":return[...qe];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Ue=["AM","PM"],as=["Before Christ","Anno Domini"],ls=["BC","AD"],hs=["B","A"];function Xe(n){switch(n){case"narrow":return[...hs];case"short":return[...ls];case"long":return[...as];default:return null}}function Ye(n,t){let e="";for(const i of n)e+=i.literal?i.val:t(i.val);return e}const cs={D:jt,DD:ve,DDD:we,DDDD:be,t:xe,tt:Te,ttt:Me,tttt:Ce,T:ke,TT:Se,TTT:Oe,TTTT:Ee,f:De,ff:_e,fff:Ve,ffff:We,F:Le,FF:Ne,FFF:Ie,FFFF:ze};class R{static create(t,e={}){return new R(t,e)}static parseFormat(t){let e=null,i="",s=!1;const r=[];for(let o=0;o<t.length;o++){const a=t.charAt(o);"'"===a?(i.length>0&&r.push({literal:s,val:i}),e=null,i="",s=!s):s||a===e?i+=a:(i.length>0&&r.push({literal:!1,val:i}),i=a,e=a)}return i.length>0&&r.push({literal:s,val:i}),r}static macroTokenToFormatOpts(t){return cs[t]}constructor(t,e){this.opts=e,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,e){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,T(T({},this.opts),e)).format()}formatDateTime(t,e={}){return this.loc.dtFormatter(t,T(T({},this.opts),e)).format()}formatDateTimeParts(t,e={}){return this.loc.dtFormatter(t,T(T({},this.opts),e)).formatToParts()}resolvedOptions(t,e={}){return this.loc.dtFormatter(t,T(T({},this.opts),e)).resolvedOptions()}num(t,e=0){if(this.opts.forceSimple)return ht(t,e);const i=T({},this.opts);return e>0&&(i.padTo=e),this.loc.numberFormatter(i).format(t)}formatDateTimeFromString(t,e){const i="en"===this.loc.listingMode(),s=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,r=(d,m)=>this.loc.extract(t,d,m),o=d=>t.isOffsetFixed&&0===t.offset&&d.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,d.format):"",l=(d,m)=>{return i?(p=t,Ze(d)[p.month-1]):r(m?{month:d}:{month:d,day:"numeric"},"month");var p},h=(d,m)=>{return i?(p=t,je(d)[p.weekday-1]):r(m?{weekday:d}:{weekday:d,month:"long",day:"numeric"},"weekday");var p},c=d=>{const m=R.macroTokenToFormatOpts(d);return m?this.formatWithSystemDefault(t,m):d},g=d=>{return i?(m=t,Xe(d)[m.year<0?0:1]):r({era:d},"era");var m};return Ye(R.parseFormat(e),d=>{switch(d){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12==0?12:t.hour%12);case"hh":return this.num(t.hour%12==0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return i?Ue[t.hour<12?0:1]:r({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return s?r({day:"numeric"},"day"):this.num(t.day);case"dd":return s?r({day:"2-digit"},"day"):this.num(t.day,2);case"c":case"E":return this.num(t.weekday);case"ccc":return h("short",!0);case"cccc":return h("long",!0);case"ccccc":return h("narrow",!0);case"EEE":return h("short",!1);case"EEEE":return h("long",!1);case"EEEEE":return h("narrow",!1);case"L":return s?r({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return s?r({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return s?r({month:"numeric"},"month"):this.num(t.month);case"MM":return s?r({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return s?r({year:"numeric"},"year"):this.num(t.year);case"yy":return s?r({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return s?r({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return s?r({year:"numeric"},"year"):this.num(t.year,6);case"G":return g("short");case"GG":return g("long");case"GGGGG":return g("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return c(d)}})}formatDurationFromString(t,e){const i=o=>{switch(o[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"M":return"month";case"y":return"year";default:return null}},s=R.parseFormat(e),r=s.reduce((o,{literal:a,val:l})=>a?o:o.concat(l),[]);return Ye(s,(o=>a=>{const l=i(a);return l?this.num(o.get(l),a.length):a})(t.shiftTo(...r.map(i).filter(o=>o))))}}class j{constructor(t,e){this.reason=t,this.explanation=e}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}class bt{get type(){throw new J}get name(){throw new J}get isUniversal(){throw new J}offsetName(t,e){throw new J}formatOffset(t,e){throw new J}offset(t){throw new J}equals(t){throw new J}get isValid(){throw new J}}let Jt=null;class Qt extends bt{static get instance(){return null===Jt&&(Jt=new Qt),Jt}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:e,locale:i}){return Re(t,e,i)}formatOffset(t,e){return _t(this.offset(t),e)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return"system"===t.type}get isValid(){return!0}}const us=RegExp(`^${Be.source}$`);let Vt={};const ds={year:0,month:1,day:2,hour:3,minute:4,second:5};let It={};class H extends bt{static create(t){return It[t]||(It[t]=new H(t)),It[t]}static resetCache(){It={},Vt={}}static isValidSpecifier(t){return!(!t||!t.match(us))}static isValidZone(t){try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch(e){return!1}}static parseGMTOffset(t){if(t){const e=t.match(/^Etc\/GMT(0|[+-]\d{1,2})$/i);if(e)return-60*parseInt(e[1])}return null}constructor(t){super(),this.zoneName=t,this.valid=H.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:e,locale:i}){return Re(t,e,i,this.name)}formatOffset(t,e){return _t(this.offset(t),e)}offset(t){const e=new Date(t);if(isNaN(e))return NaN;const i=(Vt[c=this.name]||(Vt[c]=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:c,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),Vt[c]),[s,r,o,a,l,h]=i.formatToParts?function(m,p){const w=m.formatToParts(p),M=[];for(let b=0;b<w.length;b++){const{type:u,value:y}=w[b],x=ds[u];C(x)||(M[x]=parseInt(y,10))}return M}(i,e):function(m,p){const w=m.format(p).replace(/\u200E/g,""),M=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(w),[,b,u,y,x,I,W]=M;return[y,b,u,x,I,W]}(i,e);var c;let g=+e;const d=g%1e3;return g-=d>=0?d:1e3+d,(Yt({year:s,month:r,day:o,hour:a,minute:l,second:h,millisecond:0})-g)/6e4}equals(t){return"iana"===t.type&&t.name===this.name}get isValid(){return this.valid}}let Kt=null;class P extends bt{static get utcInstance(){return null===Kt&&(Kt=new P(0)),Kt}static instance(t){return 0===t?P.utcInstance:new P(t)}static parseSpecifier(t){if(t){const e=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(e)return new P(Dt(e[1],e[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${_t(this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,e){return _t(this.fixed,e)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return"fixed"===t.type&&t.fixed===this.fixed}get isValid(){return!0}}class Ge extends bt{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Q(n,t){let e;if(C(n)||null===n)return t;if(n instanceof bt)return n;if("string"==typeof n){const i=n.toLowerCase();return"local"===i||"system"===i?t:"utc"===i||"gmt"===i?P.utcInstance:null!=(e=H.parseGMTOffset(n))?P.instance(e):H.isValidSpecifier(i)?H.create(n):P.parseSpecifier(i)||new Ge(n)}return it(n)?P.instance(n):"object"==typeof n&&n.offset&&"number"==typeof n.offset?n:new Ge(n)}let Je,Qe=()=>Date.now(),Ke="system",ti=null,ei=null,ii=null;class _{static get now(){return Qe}static set now(t){Qe=t}static set defaultZone(t){Ke=t}static get defaultZone(){return Q(Ke,Qt.instance)}static get defaultLocale(){return ti}static set defaultLocale(t){ti=t}static get defaultNumberingSystem(){return ei}static set defaultNumberingSystem(t){ei=t}static get defaultOutputCalendar(){return ii}static set defaultOutputCalendar(t){ii=t}static get throwOnInvalid(){return Je}static set throwOnInvalid(t){Je=t}static resetCaches(){D.resetCache(),H.resetCache()}}let te={};function ee(n,t={}){const e=JSON.stringify([n,t]);let i=te[e];return i||(i=new Intl.DateTimeFormat(n,t),te[e]=i),i}let ie={},se={},Wt=null;function zt(n,t,e,i,s){const r=n.listingMode(e);return"error"===r?null:"en"===r?i(t):s(t)}class ms{constructor(t,e,i){if(this.padTo=i.padTo||0,this.floor=i.floor||!1,!e){const s={useGrouping:!1};i.padTo>0&&(s.minimumIntegerDigits=i.padTo),this.inf=function(r,o={}){const a=JSON.stringify([r,o]);let l=ie[a];return l||(l=new Intl.NumberFormat(r,o),ie[a]=l),l}(t,s)}}format(t){if(this.inf){const e=this.floor?Math.floor(t):t;return this.inf.format(e)}return ht(this.floor?Math.floor(t):Xt(t,3),this.padTo)}}class fs{constructor(t,e,i){let s;if(this.opts=i,t.zone.isUniversal){const o=t.offset/60*-1,a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`,l=H.isValidZone(a);0!==t.offset&&l?(s=a,this.dt=t):(s="UTC",this.dt=i.timeZoneName||0===t.offset?t:v.fromMillis(t.ts+60*t.offset*1e3))}else"system"===t.zone.type?this.dt=t:(this.dt=t,s=t.zone.name);const r=T({},this.opts);s&&(r.timeZone=s),this.dtf=ee(e,r)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class gs{constructor(t,e,i){this.opts=T({style:"long"},i),!e&&Pe()&&(this.rtf=function(s,r={}){const a=Zi(r,["base"]),l=JSON.stringify([s,a]);let h=se[l];return h||(h=new Intl.RelativeTimeFormat(s,r),se[l]=h),h}(t,i))}format(t,e){return this.rtf?this.rtf.format(t,e):function(i,s,r="always",o=!1){const a={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},l=-1===["hours","minutes","seconds"].indexOf(i);if("auto"===r&&l){const p="days"===i;switch(s){case 1:return p?"tomorrow":`next ${a[i][0]}`;case-1:return p?"yesterday":`last ${a[i][0]}`;case 0:return p?"today":`this ${a[i][0]}`}}const h=Object.is(s,-0)||s<0,c=Math.abs(s),g=1===c,d=a[i],m=o?g?d[1]:d[2]||d[1]:g?a[i][0]:i;return h?`${c} ${m} ago`:`in ${c} ${m}`}(e,t,this.opts.numeric,"long"!==this.opts.style)}formatToParts(t,e){return this.rtf?this.rtf.formatToParts(t,e):[]}}class D{static fromOpts(t){return D.create(t.locale,t.numberingSystem,t.outputCalendar,t.defaultToEN)}static create(t,e,i,s=!1){const r=t||_.defaultLocale,o=r||(s?"en-US":Wt||(Wt="en-US",Wt));return new D(o,e||_.defaultNumberingSystem,i||_.defaultOutputCalendar,r)}static resetCache(){Wt=null,te={},ie={},se={}}static fromObject({locale:t,numberingSystem:e,outputCalendar:i}={}){return D.create(t,e,i)}constructor(t,e,i,s){const[r,o,a]=function(l){const h=l.indexOf("-u-");if(-1===h)return[l];{let c;const g=l.substring(0,h);try{c=ee(l).resolvedOptions()}catch(p){c=ee(g).resolvedOptions()}const{numberingSystem:d,calendar:m}=c;return[g,d,m]}}(t);var l,h,c;this.locale=r,this.numberingSystem=e||o||null,this.outputCalendar=i||a||null,this.intl=(l=this.locale,h=this.numberingSystem,((c=this.outputCalendar)||h)&&(l+="-u",c&&(l+=`-ca-${c}`),h&&(l+=`-nu-${h}`)),l),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){var t;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(t=this).numberingSystem||"latn"===t.numberingSystem)&&("latn"===t.numberingSystem||!t.locale||t.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem)),this.fastNumbersCached}listingMode(t=!0){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}clone(t){return t&&0!==Object.getOwnPropertyNames(t).length?D.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,t.defaultToEN||!1):this}redefaultToEN(t={}){return this.clone(G(T({},t),{defaultToEN:!0}))}redefaultToSystem(t={}){return this.clone(G(T({},t),{defaultToEN:!1}))}months(t,e=!1,i=!0){return zt(this,t,i,Ze,()=>{const s=e?{month:t,day:"numeric"}:{month:t},r=e?"format":"standalone";return this.monthsCache[r][t]||(this.monthsCache[r][t]=function(o){const a=[];for(let l=1;l<=12;l++){const h=v.utc(2016,l,1);a.push(o(h))}return a}(o=>this.extract(o,s,"month"))),this.monthsCache[r][t]})}weekdays(t,e=!1,i=!0){return zt(this,t,i,je,()=>{const s=e?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},r=e?"format":"standalone";return this.weekdaysCache[r][t]||(this.weekdaysCache[r][t]=function(o){const a=[];for(let l=1;l<=7;l++){const h=v.utc(2016,11,13+l);a.push(o(h))}return a}(o=>this.extract(o,s,"weekday"))),this.weekdaysCache[r][t]})}meridiems(t=!0){return zt(this,void 0,t,()=>Ue,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[v.utc(2016,11,13,9),v.utc(2016,11,13,19)].map(i=>this.extract(i,e,"dayperiod"))}return this.meridiemCache})}eras(t,e=!0){return zt(this,t,e,Xe,()=>{const i={era:t};return this.eraCache[t]||(this.eraCache[t]=[v.utc(-40,1,1),v.utc(2017,1,1)].map(s=>this.extract(s,i,"era"))),this.eraCache[t]})}extract(t,e,i){const s=this.dtFormatter(t,e).formatToParts().find(r=>r.type.toLowerCase()===i);return s?s.value:null}numberFormatter(t={}){return new ms(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,e={}){return new fs(t,this.intl,e)}relFormatter(t={}){return new gs(this.intl,this.isEnglish(),t)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}}function ct(...n){const t=n.reduce((e,i)=>e+i.source,"");return RegExp(`^${t}$`)}function st(...n){return t=>n.reduce(([e,i,s],r)=>{const[o,a,l]=r(t,s);return[T(T({},e),o),i||a,l]},[{},null,1]).slice(0,2)}function ut(n,...t){if(null==n)return[null,null];for(const[e,i]of t){const s=e.exec(n);if(s)return i(s)}return[null,null]}function si(...n){return(t,e)=>{const i={};let s;for(s=0;s<n.length;s++)i[n[s]]=F(t[e+s]);return[i,null,e+s]}}const ni=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,ne=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,ri=RegExp(`${ne.source}${ni.source}?`),re=RegExp(`(?:T${ri.source})?`),ps=si("weekYear","weekNumber","weekDay"),ys=si("year","ordinal"),oi=RegExp(`${ne.source} ?(?:${ni.source}|(${Be.source}))?`),vs=RegExp(`(?: ${oi.source})?`);function dt(n,t,e){const i=n[t];return C(i)?e:F(i)}function ai(n,t){return[{year:dt(n,t),month:dt(n,t+1,1),day:dt(n,t+2,1)},null,t+3]}function nt(n,t){return[{hours:dt(n,t,0),minutes:dt(n,t+1,0),seconds:dt(n,t+2,0),milliseconds:Ut(n[t+3])},null,t+4]}function mt(n,t){const e=!n[t]&&!n[t+1],i=Dt(n[t+1],n[t+2]);return[{},e?null:P.instance(i),t+3]}function li(n,t){return[{},n[t]?H.create(n[t]):null,t+1]}const ws=RegExp(`^T?${ne.source}$`),bs=/^-?P(?:(?:(-?\d{1,9})Y)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})W)?(?:(-?\d{1,9})D)?(?:T(?:(-?\d{1,9})H)?(?:(-?\d{1,9})M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function xs(n){const[t,e,i,s,r,o,a,l,h]=n,c="-"===t[0],g=l&&"-"===l[0],d=(m,p=!1)=>void 0!==m&&(p||m&&c)?-m:m;return[{years:d(F(e)),months:d(F(i)),weeks:d(F(s)),days:d(F(r)),hours:d(F(o)),minutes:d(F(a)),seconds:d(F(l),"-0"===l),milliseconds:d(Ut(h),g)}]}const Ts={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function oe(n,t,e,i,s,r,o){const a={year:2===t.length?Gt(F(t)):F(t),month:He.indexOf(e)+1,day:F(i),hour:F(s),minute:F(r)};return o&&(a.second=F(o)),n&&(a.weekday=n.length>3?qe.indexOf(n)+1:Ae.indexOf(n)+1),a}const Ms=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Cs(n){const[,t,e,i,s,r,o,a,l,h,c,g]=n,d=oe(t,s,i,e,r,o,a);let m;return m=l?Ts[l]:h?0:Dt(c,g),[d,new P(m)]}const ks=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Ss=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Os=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function hi(n){const[,t,e,i,s,r,o,a]=n;return[oe(t,s,i,e,r,o,a),P.utcInstance]}function Es(n){const[,t,e,i,s,r,o,a]=n;return[oe(t,a,e,i,s,r,o),P.utcInstance]}const Ds=ct(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,re),Ls=ct(/(\d{4})-?W(\d\d)(?:-?(\d))?/,re),_s=ct(/(\d{4})-?(\d{3})/,re),Ns=ct(ri),Vs=st(ai,nt,mt),Is=st(ps,nt,mt),Ws=st(ys,nt,mt),zs=st(nt,mt),Ps=st(nt),Fs=ct(/(\d{4})-(\d\d)-(\d\d)/,vs),Rs=ct(oi),$s=st(ai,nt,mt,li),Bs=st(nt,mt,li),ci={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},Hs=T({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},ci),Zs=T({years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:30.436875/7,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},ci),ft=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],qs=ft.slice(0).reverse();function rt(n,t,e=!1){const i={values:e?t.values:T(T({},n.values),t.values||{}),loc:n.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||n.conversionAccuracy};return new O(i)}function ui(n,t,e,i,s){const r=n[s][e],o=t[e]/r,a=Math.sign(o)!==Math.sign(i[s])&&0!==i[s]&&Math.abs(o)<=1?(l=o)<0?Math.floor(l):Math.ceil(l):Math.trunc(o);var l;i[s]+=a,t[e]-=a*r}class O{constructor(t){const e="longterm"===t.conversionAccuracy||!1;this.values=t.values,this.loc=t.loc||D.create(),this.conversionAccuracy=e?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=e?Zs:Hs,this.isLuxonDuration=!0}static fromMillis(t,e){return O.fromObject({milliseconds:t},e)}static fromObject(t,e={}){if(null==t||"object"!=typeof t)throw new B("Duration.fromObject: argument expected to be an object, got "+(null===t?"null":typeof t));return new O({values:Lt(t,O.normalizeUnit),loc:D.fromObject(e),conversionAccuracy:e.conversionAccuracy})}static fromISO(t,e){const[i]=ut(t,[bs,xs]);return i?O.fromObject(i,e):O.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,e){const[i]=ut(t,[ws,Ps]);return i?O.fromObject(i,e):O.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,e=null){if(!t)throw new B("need to specify a reason the Duration is invalid");const i=t instanceof j?t:new j(t,e);if(_.throwOnInvalid)throw new es(i);return new O({invalid:i})}static normalizeUnit(t){const e={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!e)throw new ye(t);return e}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,e={}){const i=G(T({},e),{floor:!1!==e.round&&!1!==e.floor});return this.isValid?R.create(this.loc,i).formatDurationFromString(this,t):"Invalid Duration"}toObject(){return this.isValid?T({},this.values):{}}toISO(){if(!this.isValid)return null;let t="P";return 0!==this.years&&(t+=this.years+"Y"),0===this.months&&0===this.quarters||(t+=this.months+3*this.quarters+"M"),0!==this.weeks&&(t+=this.weeks+"W"),0!==this.days&&(t+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(t+="T"),0!==this.hours&&(t+=this.hours+"H"),0!==this.minutes&&(t+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(t+=Xt(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===t&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const e=this.toMillis();if(e<0||e>=864e5)return null;t=T({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},t);const i=this.shiftTo("hours","minutes","seconds","milliseconds");let s="basic"===t.format?"hhmm":"hh:mm";t.suppressSeconds&&0===i.seconds&&0===i.milliseconds||(s+="basic"===t.format?"ss":":ss",t.suppressMilliseconds&&0===i.milliseconds||(s+=".SSS"));let r=i.toFormat(s);return t.includePrefix&&(r="T"+r),r}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const e=ot(t),i={};for(const s of ft)(lt(e.values,s)||lt(this.values,s))&&(i[s]=e.get(s)+this.get(s));return rt(this,{values:i},!0)}minus(t){if(!this.isValid)return this;const e=ot(t);return this.plus(e.negate())}mapUnits(t){if(!this.isValid)return this;const e={};for(const i of Object.keys(this.values))e[i]=$e(t(this.values[i],i));return rt(this,{values:e},!0)}get(t){return this[O.normalizeUnit(t)]}set(t){return this.isValid?rt(this,{values:T(T({},this.values),Lt(t,O.normalizeUnit))}):this}reconfigure({locale:t,numberingSystem:e,conversionAccuracy:i}={}){const s={loc:this.loc.clone({locale:t,numberingSystem:e})};return i&&(s.conversionAccuracy=i),rt(this,s)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return e=this.matrix,i=t,qs.reduce((s,r)=>C(i[r])?s:(s&&ui(e,i,s,i,r),r),null),rt(this,{values:t},!0);var e,i}shiftTo(...t){if(!this.isValid)return this;if(0===t.length)return this;t=t.map(o=>O.normalizeUnit(o));const e={},i={},s=this.toObject();let r;for(const o of ft)if(t.indexOf(o)>=0){r=o;let a=0;for(const h in i)a+=this.matrix[h][o]*i[h],i[h]=0;it(s[o])&&(a+=s[o]);const l=Math.trunc(a);e[o]=l,i[o]=a-l;for(const h in s)ft.indexOf(h)>ft.indexOf(o)&&ui(this.matrix,s,h,e,o)}else it(s[o])&&(i[o]=s[o]);for(const o in i)0!==i[o]&&(e[r]+=o===r?i[o]:i[o]/this.matrix[r][o]);return rt(this,{values:e},!0).normalize()}negate(){if(!this.isValid)return this;const t={};for(const e of Object.keys(this.values))t[e]=-this.values[e];return rt(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;for(const s of ft)if(i=t.values[s],!(void 0===(e=this.values[s])||0===e?void 0===i||0===i:e===i))return!1;var e,i;return!0}}function ot(n){if(it(n))return O.fromMillis(n);if(O.isDuration(n))return n;if("object"==typeof n)return O.fromObject(n);throw new B(`Unknown duration argument ${n} of type ${typeof n}`)}const xt="Invalid Interval";class L{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,e=null){if(!t)throw new B("need to specify a reason the Interval is invalid");const i=t instanceof j?t:new j(t,e);if(_.throwOnInvalid)throw new ts(i);return new L({invalid:i})}static fromDateTimes(t,e){const i=Ct(t),s=Ct(e),r=(a=s,(o=i)&&o.isValid?a&&a.isValid?a<o?L.invalid("end before start",`The end of an interval must be after its start, but you had start=${o.toISO()} and end=${a.toISO()}`):null:L.invalid("missing or invalid end"):L.invalid("missing or invalid start"));var o,a;return null==r?new L({start:i,end:s}):r}static after(t,e){const i=ot(e),s=Ct(t);return L.fromDateTimes(s,s.plus(i))}static before(t,e){const i=ot(e),s=Ct(t);return L.fromDateTimes(s.minus(i),s)}static fromISO(t,e){const[i,s]=(t||"").split("/",2);if(i&&s){let r,o,a,l;try{r=v.fromISO(i,e),o=r.isValid}catch(h){o=!1}try{a=v.fromISO(s,e),l=a.isValid}catch(h){l=!1}if(o&&l)return L.fromDateTimes(r,a);if(o){const h=O.fromISO(s,e);if(h.isValid)return L.after(r,h)}else if(l){const h=O.fromISO(i,e);if(h.isValid)return L.before(a,h)}}return L.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds"){if(!this.isValid)return NaN;const e=this.start.startOf(t),i=this.end.startOf(t);return Math.floor(i.diff(e,t).get(t))+1}hasSame(t){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,t))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return!!this.isValid&&this.s>t}isBefore(t){return!!this.isValid&&this.e<=t}contains(t){return!!this.isValid&&this.s<=t&&this.e>t}set({start:t,end:e}={}){return this.isValid?L.fromDateTimes(t||this.s,e||this.e):this}splitAt(...t){if(!this.isValid)return[];const e=t.map(Ct).filter(o=>this.contains(o)).sort(),i=[];let{s}=this,r=0;for(;s<this.e;){const o=e[r]||this.e,a=+o>+this.e?this.e:o;i.push(L.fromDateTimes(s,a)),s=a,r+=1}return i}splitBy(t){const e=ot(t);if(!this.isValid||!e.isValid||0===e.as("milliseconds"))return[];let i,{s}=this,r=1;const o=[];for(;s<this.e;){const a=this.start.plus(e.mapUnits(l=>l*r));i=+a>+this.e?this.e:a,o.push(L.fromDateTimes(s,i)),s=i,r+=1}return o}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return!!this.isValid&&+this.e==+t.s}abutsEnd(t){return!!this.isValid&&+t.e==+this.s}engulfs(t){return!!this.isValid&&this.s<=t.s&&this.e>=t.e}equals(t){return!(!this.isValid||!t.isValid)&&this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const e=this.s>t.s?this.s:t.s,i=this.e<t.e?this.e:t.e;return e>=i?null:L.fromDateTimes(e,i)}union(t){return this.isValid?L.fromDateTimes(this.s<t.s?this.s:t.s,this.e>t.e?this.e:t.e):this}static merge(t){const[e,i]=t.sort((s,r)=>s.s-r.s).reduce(([s,r],o)=>r?r.overlaps(o)||r.abutsStart(o)?[s,r.union(o)]:[s.concat([r]),o]:[s,o],[[],null]);return i&&e.push(i),e}static xor(t){let e=null,i=0;const s=[],r=t.map(a=>[{time:a.s,type:"s"},{time:a.e,type:"e"}]),o=Array.prototype.concat(...r).sort((a,l)=>a.time-l.time);for(const a of o)i+="s"===a.type?1:-1,1===i?e=a.time:(e&&+e!=+a.time&&s.push(L.fromDateTimes(e,a.time)),e=null);return L.merge(s)}difference(...t){return L.xor([this].concat(t)).map(e=>this.intersection(e)).filter(e=>e&&!e.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:xt}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:xt}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:xt}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:xt}toFormat(t,{separator:e=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(t)}${e}${this.e.toFormat(t)}`:xt}toDuration(t,e){return this.isValid?this.e.diff(this.s,t,e):O.invalid(this.invalidReason)}mapEndpoints(t){return L.fromDateTimes(t(this.s),t(this.e))}}class Pt{static hasDST(t=_.defaultZone){const e=v.now().setZone(t).set({month:12});return!t.isUniversal&&e.offset!==e.set({month:6}).offset}static isValidIANAZone(t){return H.isValidSpecifier(t)&&H.isValidZone(t)}static normalizeZone(t){return Q(t,_.defaultZone)}static months(t="long",{locale:e=null,numberingSystem:i=null,locObj:s=null,outputCalendar:r="gregory"}={}){return(s||D.create(e,i,r)).months(t)}static monthsFormat(t="long",{locale:e=null,numberingSystem:i=null,locObj:s=null,outputCalendar:r="gregory"}={}){return(s||D.create(e,i,r)).months(t,!0)}static weekdays(t="long",{locale:e=null,numberingSystem:i=null,locObj:s=null}={}){return(s||D.create(e,i,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:e=null,numberingSystem:i=null,locObj:s=null}={}){return(s||D.create(e,i,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return D.create(t).meridiems()}static eras(t="short",{locale:e=null}={}){return D.create(e,null,"gregory").eras(t)}static features(){return{relative:Pe()}}}function di(n,t){const e=s=>s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=e(t)-e(n);return Math.floor(O.fromMillis(i).as("days"))}const ae={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},mi={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},js=ae.hanidec.replace(/[\[|\]]/g,"").split("");function U({numberingSystem:n},t=""){return new RegExp(`${ae[n||"latn"]}${t}`)}function k(n,t=(e=>e)){return{regex:n,deser:([e])=>t(function(i){let s=parseInt(i,10);if(isNaN(s)){s="";for(let r=0;r<i.length;r++){const o=i.charCodeAt(r);if(-1!==i[r].search(ae.hanidec))s+=js.indexOf(i[r]);else for(const a in mi){const[l,h]=mi[a];o>=l&&o<=h&&(s+=o-l)}}return parseInt(s,10)}return s}(e))}}const fi=`( |${String.fromCharCode(160)})`,gi=new RegExp(fi,"g");function Us(n){return n.replace(/\./g,"\\.?").replace(gi,fi)}function pi(n){return n.replace(/\./g,"").replace(gi," ").toLowerCase()}function X(n,t){return null===n?null:{regex:RegExp(n.map(Us).join("|")),deser:([e])=>n.findIndex(i=>pi(e)===pi(i))+t}}function yi(n,t){return{regex:n,deser:([,e,i])=>Dt(e,i),groups:t}}function vi(n){return{regex:n,deser:([t])=>t}}const Xs={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};let le=null;function wi(n,t,e){const i=(o=R.parseFormat(e),a=n,Array.prototype.concat(...o.map(l=>function Ys(n,t){if(n.literal)return n;const e=R.macroTokenToFormatOpts(n.val);if(!e)return n;const i=R.create(t,e).formatDateTimeParts((le||(le=v.fromMillis(1555555555555)),le)).map(s=>function(r,o,a){const{type:l,value:h}=r;if("literal"===l)return{literal:!0,val:h};let g=Xs[l];return"object"==typeof g&&(g=g[a[l]]),g?{literal:!1,val:g}:void 0}(s,0,e));return i.includes(void 0)?n:i}(l,a)))),s=i.map(o=>function(a,l){const h=U(l),c=U(l,"{2}"),g=U(l,"{3}"),d=U(l,"{4}"),m=U(l,"{6}"),p=U(l,"{1,2}"),w=U(l,"{1,3}"),M=U(l,"{1,6}"),b=U(l,"{1,9}"),u=U(l,"{2,4}"),y=U(l,"{4,6}"),x=W=>{return{regex:RegExp((E=W.val,E.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:([at])=>at,literal:!0};var E},I=(W=>{if(a.literal)return x(W);switch(W.val){case"G":return X(l.eras("short",!1),0);case"GG":return X(l.eras("long",!1),0);case"y":return k(M);case"yy":case"kk":return k(u,Gt);case"yyyy":case"kkkk":return k(d);case"yyyyy":return k(y);case"yyyyyy":return k(m);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return k(p);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return k(c);case"MMM":return X(l.months("short",!0,!1),1);case"MMMM":return X(l.months("long",!0,!1),1);case"LLL":return X(l.months("short",!1,!1),1);case"LLLL":return X(l.months("long",!1,!1),1);case"o":case"S":return k(w);case"ooo":case"SSS":return k(g);case"u":return vi(b);case"a":return X(l.meridiems(),0);case"E":case"c":return k(h);case"EEE":return X(l.weekdays("short",!1,!1),1);case"EEEE":return X(l.weekdays("long",!1,!1),1);case"ccc":return X(l.weekdays("short",!0,!1),1);case"cccc":return X(l.weekdays("long",!0,!1),1);case"Z":case"ZZ":return yi(new RegExp(`([+-]${p.source})(?::(${c.source}))?`),2);case"ZZZ":return yi(new RegExp(`([+-]${p.source})(${c.source})?`),2);case"z":return vi(/[a-z_+-/]{1,256}?/i);default:return x(W)}})(a)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return I.token=a,I}(o,n)),r=s.find(o=>o.invalidReason);var o,a,m;if(r)return{input:t,tokens:i,invalidReason:r.invalidReason};{const[o,a]=[`^${(m=s).map(p=>p.regex).reduce((p,w)=>`${p}(${w.source})`,"")}$`,m],l=RegExp(o,"i"),[h,c]=function(m,p,w){const M=m.match(p);if(M){const b={};let u=1;for(const y in w)if(lt(w,y)){const x=w[y],I=x.groups?x.groups+1:1;!x.literal&&x.token&&(b[x.token.val[0]]=x.deser(M.slice(u,u+I))),u+=I}return[M,b]}return[M,{}]}(t,l,a),[g,d]=c?function(m){let p;return p=C(m.Z)?C(m.z)?null:H.create(m.z):new P(m.Z),C(m.q)||(m.M=3*(m.q-1)+1),C(m.h)||(m.h<12&&1===m.a?m.h+=12:12===m.h&&0===m.a&&(m.h=0)),0===m.G&&m.y&&(m.y=-m.y),C(m.u)||(m.S=Ut(m.u)),[Object.keys(m).reduce((w,M)=>{const b=(u=>{switch(u){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(M);return b&&(w[b]=m[M]),w},{}),p]}(c):[null,null];if(lt(c,"a")&&lt(c,"H"))throw new yt("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:i,regex:l,rawMatches:h,matches:c,result:g,zone:d}}}const bi=[0,31,59,90,120,151,181,212,243,273,304,334],xi=[0,31,60,91,121,152,182,213,244,274,305,335];function Z(n,t){return new j("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${n}, which is invalid`)}function Ti(n,t,e){const i=new Date(Date.UTC(n,t-1,e)).getUTCDay();return 0===i?7:i}function Mi(n,t,e){return e+(vt(n)?xi:bi)[t-1]}function Ci(n,t){const e=vt(n)?xi:bi,i=e.findIndex(s=>s<t);return{month:i+1,day:t-e[i]}}function he(n){const{year:t,month:e,day:i}=n,s=Mi(t,e,i),r=Ti(t,e,i);let o,a=Math.floor((s-r+10)/7);return a<1?(o=t-1,a=Et(o)):a>Et(t)?(o=t+1,a=1):o=t,T({weekYear:o,weekNumber:a,weekday:r},Nt(n))}function ki(n){const{weekYear:t,weekNumber:e,weekday:i}=n,s=Ti(t,1,4),r=wt(t);let o,a=7*e+i-s-3;a<1?(o=t-1,a+=wt(o)):a>r?(o=t+1,a-=wt(t)):o=t;const{month:l,day:h}=Ci(o,a);return T({year:o,month:l,day:h},Nt(n))}function ce(n){const{year:t,month:e,day:i}=n;return T({year:t,ordinal:Mi(t,e,i)},Nt(n))}function Si(n){const{year:t,ordinal:e}=n,{month:i,day:s}=Ci(t,e);return T({year:t,month:i,day:s},Nt(n))}function Oi(n){const t=St(n.year),e=Y(n.month,1,12),i=Y(n.day,1,Ot(n.year,n.month));return t?e?!i&&Z("day",n.day):Z("month",n.month):Z("year",n.year)}function Ei(n){const{hour:t,minute:e,second:i,millisecond:s}=n,r=Y(t,0,23)||24===t&&0===e&&0===i&&0===s,o=Y(e,0,59),a=Y(i,0,59),l=Y(s,0,999);return r?o?a?!l&&Z("millisecond",s):Z("second",i):Z("minute",e):Z("hour",t)}const ue="Invalid DateTime";function Ft(n){return new j("unsupported zone",`the zone "${n.name}" is not supported`)}function de(n){return null===n.weekData&&(n.weekData=he(n.c)),n.weekData}function Tt(n,t){const e={ts:n.ts,zone:n.zone,c:n.c,o:n.o,loc:n.loc,invalid:n.invalid};return new v(G(T(T({},e),t),{old:e}))}function Di(n,t,e){let i=n-60*t*1e3;const s=e.offset(i);if(t===s)return[i,t];i-=60*(s-t)*1e3;const r=e.offset(i);return s===r?[i,s]:[n-60*Math.min(s,r)*1e3,Math.max(s,r)]}function Li(n,t){const e=new Date(n+=60*t*1e3);return{year:e.getUTCFullYear(),month:e.getUTCMonth()+1,day:e.getUTCDate(),hour:e.getUTCHours(),minute:e.getUTCMinutes(),second:e.getUTCSeconds(),millisecond:e.getUTCMilliseconds()}}function Rt(n,t,e){return Di(Yt(n),t,e)}function _i(n,t){const e=n.o,i=n.c.year+Math.trunc(t.years),s=n.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),r=G(T({},n.c),{year:i,month:s,day:Math.min(n.c.day,Ot(i,s))+Math.trunc(t.days)+7*Math.trunc(t.weeks)}),o=O.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=Yt(r);let[l,h]=Di(a,e,n.zone);return 0!==o&&(l+=o,h=n.zone.offset(l)),{ts:l,o:h}}function Mt(n,t,e,i,s){const{setZone:r,zone:o}=e;if(n&&0!==Object.keys(n).length){const a=t||o,l=v.fromObject(n,G(T({},e),{zone:a,setZone:void 0}));return r?l:l.setZone(o)}return v.invalid(new j("unparsable",`the input "${s}" can't be parsed as ${i}`))}function gt(n,t,e=!0){return n.isValid?R.create(D.create("en-US"),{allowZ:e,forceSimple:!0}).formatDateTimeFromString(n,t):null}function Ni(n,{suppressSeconds:t=!1,suppressMilliseconds:e=!1,includeOffset:i,includePrefix:s=!1,includeZone:r=!1,spaceZone:o=!1,format:a="extended"}){let l="basic"===a?"HHmm":"HH:mm";t&&0===n.second&&0===n.millisecond||(l+="basic"===a?"ss":":ss",e&&0===n.millisecond||(l+=".SSS")),(r||i)&&o&&(l+=" "),r?l+="z":i&&(l+="basic"===a?"ZZZ":"ZZ");let h=gt(n,l);return s&&(h="T"+h),h}const Vi={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Gs={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Js={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Ii=["year","month","day","hour","minute","second","millisecond"],Qs=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Ks=["year","ordinal","hour","minute","second","millisecond"];function Wi(n){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[n.toLowerCase()];if(!t)throw new ye(n);return t}function zi(n,t){const e=Q(t.zone,_.defaultZone),i=D.fromObject(t),s=_.now();let r,o;if(C(n.year))r=s;else{for(const h of Ii)C(n[h])&&(n[h]=Vi[h]);const a=Oi(n)||Ei(n);if(a)return v.invalid(a);const l=e.offset(s);[r,o]=Rt(n,l,e)}return new v({ts:r,zone:e,loc:i,o})}function Pi(n,t,e){const i=!!C(e.round)||e.round,s=(o,a)=>(o=Xt(o,i||e.calendary?0:2,!0),t.loc.clone(e).relFormatter(e).format(o,a)),r=o=>e.calendary?t.hasSame(n,o)?0:t.startOf(o).diff(n.startOf(o),o).get(o):t.diff(n,o).get(o);if(e.unit)return s(r(e.unit),e.unit);for(const o of e.units){const a=r(o);if(Math.abs(a)>=1)return s(a,o)}return s(n>t?-0:0,e.units[e.units.length-1])}function Fi(n){let t,e={};return n.length>0&&"object"==typeof n[n.length-1]?(e=n[n.length-1],t=Array.from(n).slice(0,n.length-1)):t=Array.from(n),[e,t]}class v{constructor(t){const e=t.zone||_.defaultZone;let i=t.invalid||(Number.isNaN(t.ts)?new j("invalid input"):null)||(e.isValid?null:Ft(e));this.ts=C(t.ts)?_.now():t.ts;let s=null,r=null;if(!i)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(e))[s,r]=[t.old.c,t.old.o];else{const o=e.offset(this.ts);s=Li(this.ts,o),i=Number.isNaN(s.year)?new j("invalid input"):null,s=i?null:s,r=i?null:o}this._zone=e,this.loc=t.loc||D.create(),this.invalid=i,this.weekData=null,this.c=s,this.o=r,this.isLuxonDateTime=!0}static now(){return new v({})}static local(){const[t,e]=Fi(arguments),[i,s,r,o,a,l,h]=e;return zi({year:i,month:s,day:r,hour:o,minute:a,second:l,millisecond:h},t)}static utc(){const[t,e]=Fi(arguments),[i,s,r,o,a,l,h]=e;return t.zone=P.utcInstance,zi({year:i,month:s,day:r,hour:o,minute:a,second:l,millisecond:h},t)}static fromJSDate(t,e={}){const i="[object Date]"===Object.prototype.toString.call(t)?t.valueOf():NaN;if(Number.isNaN(i))return v.invalid("invalid input");const r=Q(e.zone,_.defaultZone);return r.isValid?new v({ts:i,zone:r,loc:D.fromObject(e)}):v.invalid(Ft(r))}static fromMillis(t,e={}){if(it(t))return t<-864e13||t>864e13?v.invalid("Timestamp out of range"):new v({ts:t,zone:Q(e.zone,_.defaultZone),loc:D.fromObject(e)});throw new B(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,e={}){if(it(t))return new v({ts:1e3*t,zone:Q(e.zone,_.defaultZone),loc:D.fromObject(e)});throw new B("fromSeconds requires a numerical input")}static fromObject(t,e={}){t=t||{};const i=Q(e.zone,_.defaultZone);if(!i.isValid)return v.invalid(Ft(i));const s=_.now(),r=i.offset(s),o=Lt(t,Wi),a=!C(o.ordinal),l=!C(o.year),h=!C(o.month)||!C(o.day),c=l||h,g=o.weekYear||o.weekNumber,d=D.fromObject(e);if((c||a)&&g)throw new yt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(h&&a)throw new yt("Can't mix ordinal dates with month/day");const m=g||o.weekday&&!c;let p,w,M=Li(s,r);m?(p=Qs,w=Gs,M=he(M)):a?(p=Ks,w=Js,M=ce(M)):(p=Ii,w=Vi);let b=!1;for(const E of p)C(o[E])?o[E]=b?w[E]:M[E]:b=!0;const u=(m?function(E){const at=St(E.weekYear),K=Y(E.weekNumber,1,Et(E.weekYear)),tt=Y(E.weekday,1,7);return at?K?!tt&&Z("weekday",E.weekday):Z("week",E.week):Z("weekYear",E.weekYear)}(o):a?function(E){const at=St(E.year),K=Y(E.ordinal,1,wt(E.year));return at?!K&&Z("ordinal",E.ordinal):Z("year",E.year)}(o):Oi(o))||Ei(o);if(u)return v.invalid(u);const y=m?ki(o):a?Si(o):o,[x,I]=Rt(y,r,i),W=new v({ts:x,zone:i,o:I,loc:d});return o.weekday&&c&&t.weekday!==W.weekday?v.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${W.toISO()}`):W}static fromISO(t,e={}){const[i,s]=ut(t,[Ds,Vs],[Ls,Is],[_s,Ws],[Ns,zs]);return Mt(i,s,e,"ISO 8601",t)}static fromRFC2822(t,e={}){const[i,s]=ut(t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim(),[Ms,Cs]);return Mt(i,s,e,"RFC 2822",t)}static fromHTTP(t,e={}){const[i,s]=ut(t,[ks,hi],[Ss,hi],[Os,Es]);return Mt(i,s,e,"HTTP",e)}static fromFormat(t,e,i={}){if(C(t)||C(e))throw new B("fromFormat requires an input string and a format");const{locale:s=null,numberingSystem:r=null}=i,o=D.fromOpts({locale:s,numberingSystem:r,defaultToEN:!0}),[a,l,h]=function(c,g,d){const{result:m,zone:p,invalidReason:w}=wi(c,g,d);return[m,p,w]}(o,t,e);return h?v.invalid(h):Mt(a,l,i,`format ${e}`,t)}static fromString(t,e,i={}){return v.fromFormat(t,e,i)}static fromSQL(t,e={}){const[i,s]=ut(t,[Fs,$s],[Rs,Bs]);return Mt(i,s,e,"SQL",t)}static invalid(t,e=null){if(!t)throw new B("need to specify a reason the DateTime is invalid");const i=t instanceof j?t:new j(t,e);if(_.throwOnInvalid)throw new Ki(i);return new v({invalid:i})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}get(t){return this[t]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?de(this).weekYear:NaN}get weekNumber(){return this.isValid?de(this).weekNumber:NaN}get weekday(){return this.isValid?de(this).weekday:NaN}get ordinal(){return this.isValid?ce(this.c).ordinal:NaN}get monthShort(){return this.isValid?Pt.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Pt.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Pt.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Pt.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset)}get isInLeapYear(){return vt(this.year)}get daysInMonth(){return Ot(this.year,this.month)}get daysInYear(){return this.isValid?wt(this.year):NaN}get weeksInWeekYear(){return this.isValid?Et(this.weekYear):NaN}resolvedLocaleOptions(t={}){const{locale:e,numberingSystem:i,calendar:s}=R.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:e,numberingSystem:i,outputCalendar:s}}toUTC(t=0,e={}){return this.setZone(P.instance(t),e)}toLocal(){return this.setZone(_.defaultZone)}setZone(t,{keepLocalTime:e=!1,keepCalendarTime:i=!1}={}){if((t=Q(t,_.defaultZone)).equals(this.zone))return this;if(t.isValid){let s=this.ts;if(e||i){const r=t.offset(this.ts),o=this.toObject();[s]=Rt(o,r,t)}return Tt(this,{ts:s,zone:t})}return v.invalid(Ft(t))}reconfigure({locale:t,numberingSystem:e,outputCalendar:i}={}){return Tt(this,{loc:this.loc.clone({locale:t,numberingSystem:e,outputCalendar:i})})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const e=Lt(t,Wi),i=!C(e.weekYear)||!C(e.weekNumber)||!C(e.weekday),s=!C(e.ordinal),r=!C(e.year),o=!C(e.month)||!C(e.day);if((r||o||s)&&(e.weekYear||e.weekNumber))throw new yt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(o&&s)throw new yt("Can't mix ordinal dates with month/day");let h;i?h=ki(T(T({},he(this.c)),e)):C(e.ordinal)?(h=T(T({},this.toObject()),e),C(e.day)&&(h.day=Math.min(Ot(h.year,h.month),h.day))):h=Si(T(T({},ce(this.c)),e));const[c,g]=Rt(h,this.o,this.zone);return Tt(this,{ts:c,o:g})}plus(t){return this.isValid?Tt(this,_i(this,ot(t))):this}minus(t){return this.isValid?Tt(this,_i(this,ot(t).negate())):this}startOf(t){if(!this.isValid)return this;const e={},i=O.normalizeUnit(t);switch(i){case"years":e.month=1;case"quarters":case"months":e.day=1;case"weeks":case"days":e.hour=0;case"hours":e.minute=0;case"minutes":e.second=0;case"seconds":e.millisecond=0}if("weeks"===i&&(e.weekday=1),"quarters"===i){const s=Math.ceil(this.month/3);e.month=3*(s-1)+1}return this.set(e)}endOf(t){return this.isValid?this.plus({[t]:1}).startOf(t).minus(1):this}toFormat(t,e={}){return this.isValid?R.create(this.loc.redefaultToEN(e)).formatDateTimeFromString(this,t):ue}toLocaleString(t=jt,e={}){return this.isValid?R.create(this.loc.clone(e),t).formatDateTime(this):ue}toLocaleParts(t={}){return this.isValid?R.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO(t={}){return this.isValid?`${this.toISODate(t)}T${this.toISOTime(t)}`:null}toISODate({format:t="extended"}={}){let e="basic"===t?"yyyyMMdd":"yyyy-MM-dd";return this.year>9999&&(e="+"+e),gt(this,e)}toISOWeekDate(){return gt(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:e=!1,includeOffset:i=!0,includePrefix:s=!1,format:r="extended"}={}){return Ni(this,{suppressSeconds:e,suppressMilliseconds:t,includeOffset:i,includePrefix:s,format:r})}toRFC2822(){return gt(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return gt(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return gt(this,"yyyy-MM-dd")}toSQLTime({includeOffset:t=!0,includeZone:e=!1}={}){return Ni(this,{includeOffset:t,includeZone:e,spaceZone:!0})}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():ue}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const e=T({},this.c);return t.includeConfig&&(e.outputCalendar=this.outputCalendar,e.numberingSystem=this.loc.numberingSystem,e.locale=this.loc.locale),e}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,e="milliseconds",i={}){if(!this.isValid||!t.isValid)return O.invalid("created by diffing an invalid DateTime");const s=T({locale:this.locale,numberingSystem:this.numberingSystem},i),r=(l=e,Array.isArray(l)?l:[l]).map(O.normalizeUnit),o=t.valueOf()>this.valueOf(),a=function As(n,t,e,i){let[s,r,o,a]=function(g,d,m){const p=[["years",(u,y)=>y.year-u.year],["quarters",(u,y)=>y.quarter-u.quarter],["months",(u,y)=>y.month-u.month+12*(y.year-u.year)],["weeks",(u,y)=>{const x=di(u,y);return(x-x%7)/7}],["days",di]],w={};let M,b;for(const[u,y]of p)if(m.indexOf(u)>=0){M=u;let x=y(g,d);b=g.plus({[u]:x}),b>d?(g=g.plus({[u]:x-1}),x-=1):g=b,w[u]=x}return[g,w,b,M]}(n,t,e);const l=t-s,h=e.filter(g=>["hours","minutes","seconds","milliseconds"].indexOf(g)>=0);0===h.length&&(o<t&&(o=s.plus({[a]:1})),o!==s&&(r[a]=(r[a]||0)+l/(o-s)));const c=O.fromObject(r,i);return h.length>0?O.fromMillis(l,i).shiftTo(...h).plus(c):c}(o?this:t,o?t:this,r,s);var l;return o?a.negate():a}diffNow(t="milliseconds",e={}){return this.diff(v.now(),t,e)}until(t){return this.isValid?L.fromDateTimes(this,t):this}hasSame(t,e){if(!this.isValid)return!1;const i=t.valueOf(),s=this.setZone(t.zone,{keepLocalTime:!0});return s.startOf(e)<=i&&i<=s.endOf(e)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const e=t.base||v.fromObject({},{zone:this.zone}),i=t.padding?this<e?-t.padding:t.padding:0;let s=["years","months","days","hours","minutes","seconds"],r=t.unit;return Array.isArray(t.unit)&&(s=t.unit,r=void 0),Pi(e,this.plus(i),G(T({},t),{numeric:"always",units:s,unit:r}))}toRelativeCalendar(t={}){return this.isValid?Pi(t.base||v.fromObject({},{zone:this.zone}),this,G(T({},t),{numeric:"auto",units:["years","months","days"],calendary:!0})):null}static min(...t){if(!t.every(v.isDateTime))throw new B("min requires all arguments be DateTimes");return Fe(t,e=>e.valueOf(),Math.min)}static max(...t){if(!t.every(v.isDateTime))throw new B("max requires all arguments be DateTimes");return Fe(t,e=>e.valueOf(),Math.max)}static fromFormatExplain(t,e,i={}){const{locale:s=null,numberingSystem:r=null}=i;return wi(D.fromOpts({locale:s,numberingSystem:r,defaultToEN:!0}),t,e)}static fromStringExplain(t,e,i={}){return v.fromFormatExplain(t,e,i)}static get DATE_SHORT(){return jt}static get DATE_MED(){return ve}static get DATE_MED_WITH_WEEKDAY(){return is}static get DATE_FULL(){return we}static get DATE_HUGE(){return be}static get TIME_SIMPLE(){return xe}static get TIME_WITH_SECONDS(){return Te}static get TIME_WITH_SHORT_OFFSET(){return Me}static get TIME_WITH_LONG_OFFSET(){return Ce}static get TIME_24_SIMPLE(){return ke}static get TIME_24_WITH_SECONDS(){return Se}static get TIME_24_WITH_SHORT_OFFSET(){return Oe}static get TIME_24_WITH_LONG_OFFSET(){return Ee}static get DATETIME_SHORT(){return De}static get DATETIME_SHORT_WITH_SECONDS(){return Le}static get DATETIME_MED(){return _e}static get DATETIME_MED_WITH_SECONDS(){return Ne}static get DATETIME_MED_WITH_WEEKDAY(){return ss}static get DATETIME_FULL(){return Ve}static get DATETIME_FULL_WITH_SECONDS(){return Ie}static get DATETIME_HUGE(){return We}static get DATETIME_HUGE_WITH_SECONDS(){return ze}}function Ct(n){if(v.isDateTime(n))return n;if(n&&n.valueOf&&it(n.valueOf()))return v.fromJSDate(n);if(n&&"object"==typeof n)return v.fromObject(n);throw new B(`Unknown datetime argument: ${n}, of type ${typeof n}`)}class tn extends pt{constructor(){super(...arguments),this._textColor="grey",this._fullHeight=!1,this._scale="auto",this.hourScale=new en,this.quarterDayScale=new sn,this.weekDayScale=new nn,this.weekScale=new rn,this.monthScale=new on,this.yearScale=new an,this.decadeScale=new ln,this.orderedScales=[this.decadeScale,this.yearScale,this.monthScale,this.weekScale,this.weekDayScale,this.quarterDayScale,this.hourScale]}calculateContentHeight(t){return 20}drawBandContent(t){this.scaleRenderer=this.determineScale(),this.scaleRenderer.drawBandContent(t,this)}drawUnderlay(t){this.scaleRenderer.drawUnderlay(t,this)}get fullHeight(){return this._fullHeight}set fullHeight(t){this._fullHeight=t,this.reportMutation()}get textColor(){return this._textColor}set textColor(t){this._textColor=t,this.reportMutation()}get timezone(){return this._timezone}set timezone(t){this._timezone=t,this.reportMutation()}get scale(){return this._scale}set scale(t){this._scale=t,this.reportMutation()}determineScale(){switch(this._scale){case"hour":return this.hourScale;case"quarterDay":return this.quarterDayScale;case"weekDay":return this.weekDayScale;case"week":return this.weekScale;case"month":return this.monthScale;case"year":return this.yearScale;case"decade":return this.decadeScale}let t=this.orderedScales[0];for(let e=1;e<this.orderedScales.length;e++){const i=this.orderedScales[e];if(!(i.measureUnitWidth(this)>=i.getPreferredUnitWidth()))break;t=i}return t}}class en{constructor(){this.majorX=[],this.majorLabels=[],this.midX=[],this.minorX=[]}getPreferredUnitWidth(){return 38}measureUnitWidth(t){const e=t.timeline.start;return t.timeline.positionTime(e+36e5)-t.timeline.positionTime(e)}drawBandContent(t,e){let i=v.fromMillis(e.timeline.start);e.timezone&&(i=i.setZone(e.timezone)),i=i.startOf("hour");const s=e.timeline.distanceBetween(i.toMillis(),i.plus({minutes:30}).toMillis()),r=e.timeline.distanceBetween(i.toMillis(),i.plus({minutes:15}).toMillis());this.majorX.length=0,this.majorLabels.length=0,this.midX.length=0,this.minorX.length=0;const o=v.fromMillis(e.timeline.stop);for(;i<=o;){const c=e.timeline.positionTime(i.toMillis());this.majorX.push(c),this.minorX.push(c+r),this.midX.push(c+s),this.minorX.push(c+s+r),this.majorLabels.push(i.toFormat(0===i.hour?"MMM dd":"HH")),i=i.plus({hours:1})}const a=t.canvas.height,l=new S(0,0);for(const c of this.majorX)l.moveTo(Math.round(c)+.5,0),l.lineTo(Math.round(c)+.5,a);for(const c of this.midX)l.moveTo(Math.round(c)+.5,.6*a),l.lineTo(Math.round(c)+.5,a);for(const c of this.minorX)l.moveTo(Math.round(c)+.5,.8*a),l.lineTo(Math.round(c)+.5,a);t.strokePath({color:e.timeline.bandBorderColor,path:l});const h=`${e.timeline.textSize}px ${e.timeline.fontFamily}`;for(let c=0;c<this.majorLabels.length;c++){const g=this.majorLabels[c],d=this.majorX[c];g.length>2?(t.fillText({x:d+2,y:.75*a,text:"00",font:h,color:e.textColor,baseline:"middle",align:"left"}),t.fillText({x:d+2,y:a/4,text:g,font:h,color:e.textColor,baseline:"middle",align:"left"})):t.fillText({x:d+2,y:a/2,text:g,font:h,color:e.textColor,baseline:"middle",align:"left"})}}drawUnderlay(t,e){if(e.fullHeight){const i=new S(0,0);for(const s of this.majorX)i.moveTo(Math.round(s)+.5,e.y+e.height),i.lineTo(Math.round(s)+.5,t.canvas.height);t.strokePath({color:e.timeline.bandBorderColor,path:i})}}}class sn{constructor(){this.majorX=[]}getPreferredUnitWidth(){return 30}measureUnitWidth(t){const e=t.timeline.start;return t.timeline.positionTime(e+216e5)-t.timeline.positionTime(e)}drawBandContent(t,e){let i=v.fromMillis(e.timeline.start);e.timezone&&(i=i.setZone(e.timezone)),i=i.startOf("day"),this.majorX.length=0;const s=t.canvas.height,r=`${e.timeline.textSize}px ${e.timeline.fontFamily}`,o=v.fromMillis(e.timeline.stop);for(;i<=o;){const a=e.timeline.positionTime(i.toMillis());this.majorX.push(a),t.strokePath({color:e.timeline.bandBorderColor,path:new S(0,0).moveTo(Math.round(a)+.5,0).lineTo(Math.round(a)+.5,s)}),t.fillText({x:a+2,y:s/4,text:i.toFormat("EEE dd/MM"),font:r,color:e.textColor,baseline:"middle",align:"left"});for(const l of[0,6,12,18]){const h=i.set({hour:l});if(0!==l){const g=e.timeline.positionTime(h.toMillis());t.strokePath({color:e.timeline.bandBorderColor,path:new S(0,0).moveTo(Math.round(g)+.5,s/2).lineTo(Math.round(g)+.5,s)})}const c=e.timeline.positionTime(h.plus({hours:3}).toMillis());t.fillText({x:c,y:.75*s,text:h.toFormat("HH"),font:r,color:e.textColor,baseline:"middle",align:"center"})}i=i.plus({days:1})}}drawUnderlay(t,e){if(e.fullHeight){const i=new S(0,0);for(const s of this.majorX)i.moveTo(Math.round(s)+.5,e.y+e.height),i.lineTo(Math.round(s)+.5,t.canvas.height);t.strokePath({color:e.timeline.bandBorderColor,path:i})}}}class nn{constructor(){this.majorX=[]}getPreferredUnitWidth(){return 20}measureUnitWidth(t){const e=t.timeline.start;return t.timeline.positionTime(e+864e5)-t.timeline.positionTime(e)}drawBandContent(t,e){let i=v.fromMillis(e.timeline.start);e.timezone&&(i=i.setZone(e.timezone)),i=i.startOf("week"),this.majorX.length=0;const s=t.canvas.height,r=`${e.timeline.textSize}px ${e.timeline.fontFamily}`,o=v.fromMillis(e.timeline.stop);for(;i<=o;){const a=e.timeline.positionTime(i.toMillis());this.majorX.push(a),t.strokePath({color:e.timeline.bandBorderColor,path:new S(0,0).moveTo(Math.round(a)+.5,0).lineTo(Math.round(a)+.5,s)}),t.fillText({x:a+2,y:s/4,text:i.toFormat("dd MMM, yy"),font:r,color:e.textColor,baseline:"middle",align:"left"});for(let l=1;l<=7;l++){const h=i.set({weekday:l});if(1!==l){const g=e.timeline.positionTime(h.toMillis());t.strokePath({color:e.timeline.bandBorderColor,path:new S(0,0).moveTo(Math.round(g)+.5,s/2).lineTo(Math.round(g)+.5,s)})}const c=e.timeline.positionTime(h.plus({hours:12}).toMillis());t.fillText({x:c,y:.75*s,text:h.toFormat("EEEEE"),font:r,color:e.textColor,baseline:"middle",align:"center"})}i=i.plus({weeks:1})}}drawUnderlay(t,e){if(e.fullHeight){const i=new S(0,0);for(const s of this.majorX)i.moveTo(Math.round(s)+.5,e.y+e.height),i.lineTo(Math.round(s)+.5,t.canvas.height);t.strokePath({color:e.timeline.bandBorderColor,path:i})}}}class rn{constructor(){this.majorX=[]}getPreferredUnitWidth(){return 50}measureUnitWidth(t){const e=t.timeline.start;return t.timeline.positionTime(e+6048e5)-t.timeline.positionTime(e)}drawBandContent(t,e){let i=v.fromMillis(e.timeline.start);e.timezone&&(i=i.setZone(e.timezone)),i=i.startOf("month"),this.majorX.length=0;const s=t.canvas.height,r=`${e.timeline.textSize}px ${e.timeline.fontFamily}`,o=i,a=v.fromMillis(e.timeline.stop);for(;i<=a;){const l=e.timeline.positionTime(i.toMillis());this.majorX.push(l),t.strokePath({color:e.timeline.bandBorderColor,path:new S(0,0).moveTo(Math.round(l)+.5,0).lineTo(Math.round(l)+.5,s/2)}),t.fillText({x:l+2,y:s/4,text:i.toFormat("LLLL"),font:r,color:e.textColor,baseline:"middle",align:"left"}),i=i.plus({months:1})}for(i=o.startOf("week");i<=a;){const l=e.timeline.positionTime(i.toMillis());t.strokePath({color:e.timeline.bandBorderColor,path:new S(0,0).moveTo(Math.round(l)+.5,s/2).lineTo(Math.round(l)+.5,s)});const h=e.timeline.positionTime(i.plus({days:3,hours:12}).toMillis());t.fillText({x:h,y:.75*s,text:i.toFormat("dd/MM"),font:r,color:e.textColor,baseline:"middle",align:"center"}),i=i.plus({weeks:1})}}drawUnderlay(t,e){if(e.fullHeight){const i=new S(0,0);for(const s of this.majorX)i.moveTo(Math.round(s)+.5,e.y+e.height),i.lineTo(Math.round(s)+.5,t.canvas.height);t.strokePath({color:e.timeline.bandBorderColor,path:i})}}}class on{constructor(){this.majorX=[]}getPreferredUnitWidth(){return 32}measureUnitWidth(t){const e=t.timeline.start;return t.timeline.positionTime(e+2592e6)-t.timeline.positionTime(e)}drawBandContent(t,e){let i=v.fromMillis(e.timeline.start);e.timezone&&(i=i.setZone(e.timezone)),i=i.startOf("year"),this.majorX.length=0;const s=t.canvas.height,r=`${e.timeline.textSize}px ${e.timeline.fontFamily}`,o=v.fromMillis(e.timeline.stop);for(;i<=o;){const a=e.timeline.positionTime(i.toMillis());this.majorX.push(a),t.strokePath({color:e.timeline.bandBorderColor,path:new S(0,0).moveTo(Math.round(a)+.5,0).lineTo(Math.round(a)+.5,s)}),t.fillText({x:a+2,y:s/4,text:i.toFormat("yyyy"),font:r,color:e.textColor,baseline:"middle",align:"left"});for(let l=1;l<=12;l++){const h=i.set({month:l});if(1!==l){const d=e.timeline.positionTime(h.toMillis());t.strokePath({color:e.timeline.bandBorderColor,path:new S(0,0).moveTo(Math.round(d)+.5,s/2).lineTo(Math.round(d)+.5,s)})}const c=h.plus({months:1}).toMillis(),g=e.timeline.positionTime((h.toMillis()+c)/2);t.fillText({x:g,y:.75*s,text:h.toFormat("LLL"),font:r,color:e.textColor,baseline:"middle",align:"center"})}i=i.plus({years:1})}}drawUnderlay(t,e){if(e.fullHeight){const i=new S(0,0);for(const s of this.majorX)i.moveTo(Math.round(s)+.5,e.y+e.height),i.lineTo(Math.round(s)+.5,t.canvas.height);t.strokePath({color:e.timeline.bandBorderColor,path:i})}}}class an{getPreferredUnitWidth(){return 49}measureUnitWidth(t){const e=t.timeline.start;return t.timeline.positionTime(e+31536e6)-t.timeline.positionTime(e)}drawBandContent(t,e){let i=v.fromMillis(e.timeline.start);e.timezone&&(i=i.setZone(e.timezone)),i=i.startOf("year");const s=t.canvas.height,r=`${e.timeline.textSize}px ${e.timeline.fontFamily}`,o=v.fromMillis(e.timeline.stop);for(;i<=o;){const a=e.timeline.positionTime(i.toMillis());t.strokePath({color:e.timeline.bandBorderColor,path:new S(0,0).moveTo(Math.round(a)+.5,0).lineTo(Math.round(a)+.5,s)}),t.fillText({x:a+2,y:s/2,text:i.toFormat("yyyy"),font:r,color:e.textColor,baseline:"middle",align:"left"}),i=i.plus({years:1})}}drawUnderlay(t,e){}}class ln{getPreferredUnitWidth(){return 49}measureUnitWidth(t){const e=t.timeline.start;return t.timeline.positionTime(e+31536e7)-t.timeline.positionTime(e)}drawBandContent(t,e){let i=v.fromMillis(e.timeline.start);e.timezone&&(i=i.setZone(e.timezone)),i=i.startOf("year"),i=i.set({year:i.year-i.year%10});const s=t.canvas.height,r=`${e.timeline.textSize}px ${e.timeline.fontFamily}`,o=v.fromMillis(e.timeline.stop);for(;i<=o;){const a=e.timeline.positionTime(i.toMillis());t.strokePath({color:e.timeline.bandBorderColor,path:new S(0,0).moveTo(Math.round(a)+.5,0).lineTo(Math.round(a)+.5,s)}),t.fillText({x:a+2,y:s/2,text:i.toFormat("yyyy")+"s",font:r,color:e.textColor,baseline:"middle",align:"left"}),i=i.plus({years:10})}}drawUnderlay(t,e){}}}}]);