"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[74],{5074:(vn,R,d)=>{d.r(R),d.d(R,{TimelineModule:()=>wn});var be=d(7573),_=d(1083),ye=d(7309),L=d(4375),Ce=d(9326),v=d(4847),m=d(8279),f=d(381),N=d(4273),e=d(5e3),b=d(2313),Z=d(4454),y=d(8928),C=d(9140),A=d(7423),U=d(3874),p=d(9808),T=d(7587),Y=d(4763);function xe(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"th",22),e.TgZ(1,"input",23),e.NdJ("change",function(a){e.CHM(t);const s=e.oxw(2);return a?s.masterToggle():null}),e.qZA(),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())}}function Ae(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",24),e.TgZ(1,"input",25),e.NdJ("click",function(a){return a.stopPropagation()})("change",function(a){const c=e.CHM(t).$implicit,l=e.oxw(2);return a?l.selection.toggle(c):null}),e.qZA(),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("checked",i.selection.isSelected(t))}}function qe(n,o){1&n&&(e.TgZ(0,"th",26),e._uU(1,"Label"),e.qZA())}function we(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.name)}}function ve(n,o){1&n&&(e.TgZ(0,"i"),e._uU(1,"(none)"),e.qZA())}const $=function(n){return{c:n}};function Ue(n,o){if(1&n&&(e.TgZ(0,"td",27),e.TgZ(1,"a",28),e.YNc(2,we,2,1,"ng-container",29),e.YNc(3,ve,2,0,"i",29),e.qZA(),e.qZA()),2&n){const t=o.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("routerLink",t.id)("queryParams",e.VKq(4,$,i.yamcs.context)),e.xp6(1),e.Q6J("ngIf",t.name),e.xp6(1),e.Q6J("ngIf",!t.name)}}function ke(n,o){1&n&&(e.TgZ(0,"th",30),e._uU(1,"Description"),e.qZA())}function Se(n,o){if(1&n&&(e.TgZ(0,"td",27),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.description||"-"," ")}}function De(n,o){1&n&&(e.TgZ(0,"th",26),e._uU(1,"Tags"),e.qZA())}function Be(n,o){if(1&n&&(e.TgZ(0,"app-label",32),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t)}}function Ie(n,o){1&n&&(e.ynx(0),e._uU(1,"-"),e.BQk())}const Pe=function(){return[]};function Je(n,o){if(1&n&&(e.TgZ(0,"td",27),e.YNc(1,Be,2,1,"app-label",31),e.YNc(2,Ie,2,0,"ng-container",29),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngForOf",t.tags||e.DdM(2,Pe)),e.xp6(1),e.Q6J("ngIf",!t.tags)}}function Ne(n,o){1&n&&(e.TgZ(0,"th",33),e._uU(1,"Type"),e.qZA())}function Ye(n,o){if(1&n&&(e.TgZ(0,"td",27),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.type," ")}}function Ee(n,o){1&n&&e._UZ(0,"th",34)}function Qe(n,o){1&n&&e._UZ(0,"td",27)}function Me(n,o){1&n&&e._UZ(0,"tr",35)}function Oe(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",36),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).toggleOne(s)}),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw(2);e.ekj("selected",i.selection.isSelected(t))}}function Ve(n,o){if(1&n&&(e.TgZ(0,"table",4),e.ynx(1,5),e.YNc(2,xe,2,1,"th",6),e.YNc(3,Ae,2,1,"td",7),e.BQk(),e.ynx(4,8),e.YNc(5,qe,2,0,"th",9),e.YNc(6,Ue,4,6,"td",10),e.BQk(),e.ynx(7,11),e.YNc(8,ke,2,0,"th",12),e.YNc(9,Se,2,1,"td",10),e.BQk(),e.ynx(10,13),e.YNc(11,De,2,0,"th",14),e.YNc(12,Je,3,3,"td",15),e.BQk(),e.ynx(13,16),e.YNc(14,Ne,2,0,"th",17),e.YNc(15,Ye,2,1,"td",10),e.BQk(),e.ynx(16,18),e.YNc(17,Ee,1,0,"th",19),e.YNc(18,Qe,1,0,"td",10),e.BQk(),e.YNc(19,Me,1,0,"tr",20),e.YNc(20,Oe,1,2,"tr",21),e.qZA()),2&n){const t=e.oxw();e.Q6J("dataSource",t.dataSource)("trackBy",t.tableTrackerFn),e.xp6(19),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns)}}let F=(()=>{class n{constructor(t,i,a){this.yamcs=t,this.messageService=a,this.displayedColumns=["select","name","description","tags","type","actions"],this.tableTrackerFn=(s,c)=>c.id,this.dataSource=new m.by,this.selection=new N.O(this.tableTrackerFn,!0,[]),i.setTitle("Timeline Bands"),this.refreshData()}ngAfterViewInit(){this.dataSource.sort=this.sort}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(t=>this.selection.select(t))}toggleOne(t){(!this.selection.isSelected(t)||this.selection.selected.length>1)&&this.selection.clear(),this.selection.toggle(t)}deleteSelectedBands(){if(confirm("Are you sure you want to delete the selected bands?"))for(const t of this.selection.selected)this.deleteBand(t.id,!1)}deleteBand(t,i=!0){(!i||confirm("Are you sure you want to delete the selected band?"))&&this.yamcs.yamcsClient.deleteTimelineBand(this.yamcs.instance,t).then(()=>this.refreshData()).catch(a=>this.messageService.showError(a))}isGroupDeleteEnabled(){return!this.selection.isEmpty()}refreshData(){this.yamcs.yamcsClient.getTimelineBands(this.yamcs.instance).then(t=>{this.selection.matchNewValues(t.bands||[]),this.dataSource.data=t.bands||[]}).catch(t=>this.messageService.showError(t))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.C),e.Y36(b.Dx),e.Y36(Z.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&e.Gf(v.YE,5),2&t){let a;e.iGM(a=e.CRH())&&(i.sort=a.first)}},decls:13,vars:5,consts:[["mat-button","","color","primary","routerLink","create",3,"queryParams"],["mat-button","","color","primary",3,"disabled","click"],[1,"panel-content"],["mat-table","","class","ya-data-table","style","width: 100%","matSort","","matSortActive","name","matSortDirection","asc","matSortDisableClear","",3,"dataSource","trackBy",4,"ngIf"],["mat-table","","matSort","","matSortActive","name","matSortDirection","asc","matSortDisableClear","",1,"ya-data-table",2,"width","100%",3,"dataSource","trackBy"],["cdkColumnDef","select"],["mat-header-cell","","class","checkbox",4,"cdkHeaderCellDef"],["mat-cell","","class","checkbox",4,"cdkCellDef"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","style","width: 200px",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","description"],["mat-header-cell","","style","width: 400px",4,"matHeaderCellDef"],["cdkColumnDef","tags"],["mat-header-cell","","mat-sort-header","","style","width: 200px",4,"cdkHeaderCellDef"],["mat-cell","",4,"cdkCellDef"],["matColumnDef","type"],["mat-header-cell","","mat-sort-header","","style","width: 100px",4,"matHeaderCellDef"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"selected","click",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"checkbox"],["type","checkbox",3,"checked","change"],["mat-cell","",1,"checkbox"],["type","checkbox",3,"checked","click","change"],["mat-header-cell","","mat-sort-header","",2,"width","200px"],["mat-cell",""],[3,"routerLink","queryParams"],[4,"ngIf"],["mat-header-cell","",2,"width","400px"],["backgroundColor","#cdeefd",4,"ngFor","ngForOf"],["backgroundColor","#cdeefd"],["mat-header-cell","","mat-sort-header","",2,"width","100px"],["mat-header-cell",""],["mat-header-row",""],["mat-row","",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"app-instance-page"),e.TgZ(1,"app-instance-toolbar"),e._uU(2," Bands \xa0\xa0\xa0 "),e.TgZ(3,"a",0),e.TgZ(4,"mat-icon"),e._uU(5,"add_circle_outline"),e.qZA(),e._uU(6," CREATE BAND "),e.qZA(),e.TgZ(7,"button",1),e.NdJ("click",function(){return i.deleteSelectedBands()}),e.TgZ(8,"mat-icon"),e._uU(9,"close"),e.qZA(),e._uU(10," DELETE "),e.qZA(),e.qZA(),e.TgZ(11,"div",2),e.YNc(12,Ve,21,4,"table",3),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Q6J("queryParams",e.VKq(3,$,i.yamcs.context)),e.xp6(4),e.Q6J("disabled",!i.isGroupDeleteEnabled()),e.xp6(5),e.Q6J("ngIf",i.dataSource))},directives:[y.a,C.k,A.zs,_.yS,U.Hw,A.lW,p.O5,m.BZ,v.YE,T.fo,T.D5,m.ge,T.O_,m.ev,m.w1,m.fO,v.nU,m.Dz,p.sg,Y._,m.as,m.XQ,m.nj,m.Gk],encapsulation:2,changeDetection:0}),n})();var r=d(3075),B=d(4594);let I=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-band-wizard-step"]],inputs:{step:"step"},decls:8,vars:4,consts:[[1,"sub"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar",0),e.TgZ(1,"mat-toolbar-row"),e.TgZ(2,"span"),e.TgZ(3,"span"),e._uU(4,"1. Select band type"),e.qZA(),e._uU(5," \xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),e.TgZ(6,"span"),e._uU(7,"2. Configure band"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.ekj("active","1"===i.step),e.xp6(3),e.ekj("active","2"===i.step))},directives:[B.Ye,B.rD],styles:["span[_ngcontent-%COMP%]{cursor:default}span[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:.3}span[_ngcontent-%COMP%]   span.active[_ngcontent-%COMP%]{opacity:1}mat-toolbar.sub[_ngcontent-%COMP%]{border-bottom:1px solid #d3d3d3;background-color:#fff;font-size:12px}.mat-toolbar-row[_ngcontent-%COMP%]{height:32px;padding:0 24px}.mat-toolbar-multiple-rows[_ngcontent-%COMP%]{min-height:32px}"],changeDetection:0}),n})();var q=d(4834);const Re=function(n){return{c:n}};let H=(()=>{class n{constructor(t,i,a,s,c){this.yamcs=a,this.messageService=s,this.router=c,t.setTitle("Configure Command Band"),this.form=i.group({name:["",[r.kI.required]],description:"",properties:i.group({})})}onConfirm(){const t=this.form.value;this.yamcs.yamcsClient.createTimelineBand(this.yamcs.instance,{name:t.name,description:t.description,type:"COMMAND_BAND",shared:!0,properties:t.properties}).then(()=>this.router.navigateByUrl(`/timeline/bands?c=${this.yamcs.context}`)).catch(i=>this.messageService.showError(i))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.Dx),e.Y36(r.qu),e.Y36(f.C),e.Y36(Z.e),e.Y36(_.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:29,vars:5,consts:[["step","2"],[1,"form-content","ya-form"],["novalidate","","autocomplete","off",3,"formGroup"],[1,"hint"],["type","text","formControlName","name",2,"width","100%"],["formControlName","description","rows","3"],[1,"section-divider"],[1,"action-bar"],["routerLink","../..",1,"ya-button",3,"queryParams"],["type","submit",1,"ya-button","primary",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"app-instance-page"),e.TgZ(1,"app-instance-toolbar"),e._uU(2," Create band "),e.qZA(),e._UZ(3,"app-create-band-wizard-step",0),e.TgZ(4,"div",1),e.TgZ(5,"form",2),e.TgZ(6,"label"),e._uU(7," Label "),e.TgZ(8,"span",3),e._uU(9,"(required)"),e.qZA(),e._UZ(10,"br"),e._UZ(11,"input",4),e.qZA(),e._UZ(12,"br"),e.TgZ(13,"label"),e._uU(14," Description "),e.TgZ(15,"span",3),e._uU(16,"(optional)"),e.qZA(),e._UZ(17,"br"),e._UZ(18,"textarea",5),e.qZA(),e._UZ(19,"br"),e.TgZ(20,"div",6),e._UZ(21,"mat-divider"),e.qZA(),e.qZA(),e.TgZ(22,"p"),e._uU(23,"\xa0"),e.qZA(),e.TgZ(24,"div",7),e.TgZ(25,"button",8),e._uU(26,"Cancel"),e.qZA(),e.TgZ(27,"button",9),e.NdJ("click",function(){return i.onConfirm()}),e._uU(28,"CREATE"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(5),e.Q6J("formGroup",i.form),e.xp6(20),e.Q6J("queryParams",e.VKq(3,Re,i.yamcs.context)),e.xp6(2),e.Q6J("disabled",!i.form.valid))},directives:[y.a,C.k,I,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,q.d,_.rH],encapsulation:2,changeDetection:0}),n})();const P=function(n){return{c:n}};let z=(()=>{class n{constructor(t,i){this.yamcs=i,t.setTitle("Create a Band")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.Dx),e.Y36(f.C))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:40,vars:15,consts:[["mat-icon-button","","routerLink","..","color","primary",3,"queryParams"],["step","1"],[1,"panel-content"],[1,"category-title"],[1,"band-type-list"],["routerLink","time-ruler",1,"band-type",3,"queryParams"],[1,"card"],[1,"card-title"],[1,"card-content"],["routerLink","item-band",1,"band-type",3,"queryParams"],["routerLink","spacer",1,"band-type",3,"queryParams"],["routerLink","command-band",1,"band-type",3,"queryParams"]],template:function(t,i){1&t&&(e.TgZ(0,"app-instance-page"),e.TgZ(1,"app-instance-toolbar"),e.TgZ(2,"a",0),e.TgZ(3,"mat-icon"),e._uU(4,"arrow_back"),e.qZA(),e.qZA(),e._uU(5," Create band "),e.qZA(),e._UZ(6,"app-create-band-wizard-step",1),e.TgZ(7,"div",2),e.TgZ(8,"div",3),e._uU(9,"General"),e.qZA(),e.TgZ(10,"div",4),e.TgZ(11,"a",5),e.TgZ(12,"div",6),e.TgZ(13,"div",7),e._uU(14,"Time Ruler"),e.qZA(),e.TgZ(15,"div",8),e._uU(16," Display absolute time, formatted in a timezone of choice. "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"a",9),e.TgZ(18,"div",6),e.TgZ(19,"div",7),e._uU(20,"Item Band"),e.qZA(),e.TgZ(21,"div",8),e._uU(22," Show a selection of timeline items. "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"a",10),e.TgZ(24,"div",6),e.TgZ(25,"div",7),e._uU(26,"Spacer"),e.qZA(),e.TgZ(27,"div",8),e._uU(28," Insert empty vertical space. "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"p"),e._uU(30,"\xa0"),e.qZA(),e.TgZ(31,"div",3),e._uU(32,"Yamcs entities"),e.qZA(),e.TgZ(33,"div",4),e.TgZ(34,"a",11),e.TgZ(35,"div",6),e.TgZ(36,"div",7),e._uU(37,"Commands"),e.qZA(),e.TgZ(38,"div",8),e._uU(39," Display issued commands. "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("queryParams",e.VKq(5,P,i.yamcs.context)),e.xp6(9),e.Q6J("queryParams",e.VKq(7,P,i.yamcs.context)),e.xp6(6),e.Q6J("queryParams",e.VKq(9,P,i.yamcs.context)),e.xp6(6),e.Q6J("queryParams",e.VKq(11,P,i.yamcs.context)),e.xp6(11),e.Q6J("queryParams",e.VKq(13,P,i.yamcs.context)))},directives:[y.a,C.k,A.zs,_.yS,U.Hw,I],styles:["div.category-title[_ngcontent-%COMP%]{font-size:18px;line-height:1.5;margin-bottom:1em}a.band-type[_ngcontent-%COMP%]{display:inline-block;width:260px;margin-right:20px;margin-bottom:20px;vertical-align:top;text-decoration:none}.card[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);background:#fff;border-radius:4px;overflow:hidden}.card-title[_ngcontent-%COMP%]{align-items:center;display:flex;padding:15px;font-size:20px;font-weight:500;color:#000000de}.card-content[_ngcontent-%COMP%]{padding:0 15px 15px;min-height:2.4em;font-size:15px;color:#0000008a}a.band-type[_ngcontent-%COMP%]:hover   .card[_ngcontent-%COMP%]{background-color:#f2f2f2}"],changeDetection:0}),n})();function Le(n,o){1&n&&(e.TgZ(0,"th",13),e._uU(1,"Available"),e.qZA())}function $e(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.name)}}function Fe(n,o){1&n&&(e.TgZ(0,"i"),e._uU(1,"(no name)"),e.qZA())}function He(n,o){if(1&n&&(e.ynx(0),e._UZ(1,"br"),e.TgZ(2,"span",16),e._uU(3),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(3),e.Oqu(t.description)}}function ze(n,o){if(1&n&&(e.TgZ(0,"td",14),e.YNc(1,$e,2,1,"ng-container",15),e.YNc(2,Fe,2,0,"i",15),e.YNc(3,He,4,1,"ng-container",15),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",t.name),e.xp6(1),e.Q6J("ngIf",!t.name),e.xp6(1),e.Q6J("ngIf",t.description)}}function Ge(n,o){1&n&&e._UZ(0,"tr",17)}function je(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",18),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().selectBand(s)}),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.ekj("selected",i.isLeftSelected(t))}}function Xe(n,o){1&n&&(e.TgZ(0,"th",13),e._uU(1,"Selected"),e.qZA())}function We(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.name)}}function Ke(n,o){1&n&&(e.TgZ(0,"i"),e._uU(1,"(no name)"),e.qZA())}function et(n,o){if(1&n&&(e.ynx(0),e._UZ(1,"br"),e.TgZ(2,"span",16),e._uU(3),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(3),e.Oqu(t.description)}}function tt(n,o){if(1&n&&(e.TgZ(0,"td",14),e.YNc(1,We,2,1,"ng-container",15),e.YNc(2,Ke,2,0,"i",15),e.YNc(3,et,4,1,"ng-container",15),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",t.name),e.xp6(1),e.Q6J("ngIf",!t.name),e.xp6(1),e.Q6J("ngIf",t.description)}}function nt(n,o){1&n&&e._UZ(0,"tr",17)}function it(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",18),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().selectBand(s)}),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.ekj("selected",i.isRightSelected(t))}}let E=(()=>{class n{constructor(t){this.displayedColumns=["name"],this.availableDataSource=new m.by([]),this.selectedDataSource=new m.by([]),this.onChange=i=>{},this.bands$=t.yamcsClient.getTimelineBands(t.instance),this.bands$.then(i=>{this.availableDataSource.data=i.bands||[]})}writeValue(t){this.bands$.then(i=>{const a=i.bands||[];if(t){const s=t.map(u=>u.id),c=[],l=[];for(const u of a)-1===s.indexOf(u.id)&&c.push(u);for(const u of s)for(const S of a)S.id===u&&l.push(S);this.availableDataSource.data=c,this.selectedDataSource.data=l}else this.availableDataSource.data=[...a],this.selectedDataSource.data=[]})}registerOnChange(t){this.onChange=t}registerOnTouched(t){}selectBand(t){this.selectedBand=t}isLeftSelected(t){return t===this.selectedBand&&-1!==this.availableDataSource.data.indexOf(t)}isAnyLeftSelected(){return this.selectedBand&&-1!==this.availableDataSource.data.indexOf(this.selectedBand)}isRightSelected(t){return t===this.selectedBand&&-1!==this.selectedDataSource.data.indexOf(t)}isAnyRightSelected(){return this.selectedBand&&-1!==this.selectedDataSource.data.indexOf(this.selectedBand)}moveRight(){const t=this.selectedBand,i=[...this.availableDataSource.data],a=[...this.selectedDataSource.data],s=i.indexOf(t);-1!==s&&i.splice(s,1),-1===a.indexOf(t)&&a.push(t),this.availableDataSource.data=i,this.selectedDataSource.data=a,this.onChange(a)}moveLeft(){const t=this.selectedBand,i=[...this.availableDataSource.data],a=[...this.selectedDataSource.data],s=a.indexOf(t);-1!==s&&a.splice(s,1),-1===i.indexOf(t)&&i.push(t),this.availableDataSource.data=i,this.selectedDataSource.data=a,this.onChange(a)}moveUp(){const t=this.selectedBand,i=[...this.selectedDataSource.data],a=i.indexOf(t);0!==a&&(i[a]=i[a-1],i[a-1]=t),this.selectedDataSource.data=i,this.onChange(i)}moveDown(){const t=this.selectedBand,i=[...this.selectedDataSource.data],a=i.indexOf(t);a!==i.length-1&&(i[a]=i[a+1],i[a+1]=t),this.selectedDataSource.data=i,this.onChange(i)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.C))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-band-multi-select"]],features:[e._Bn([{provide:r.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}])],decls:32,vars:10,consts:[[2,"display","flex"],[1,"bands-from"],["mat-table","",1,"ya-data-table",2,"width","100%",3,"dataSource"],["cdkColumnDef","name"],["mat-header-cell","",4,"cdkHeaderCellDef"],["mat-cell","",4,"cdkCellDef"],["mat-header-row","",4,"cdkHeaderRowDef"],["mat-row","",3,"selected","click",4,"cdkRowDef","cdkRowDefColumns"],[2,"display","inline-block","margin","1em","align-self","center"],[1,"ya-button",2,"width","90px",3,"disabled","click"],[1,"bands-to"],[2,"text-align","right"],[1,"ya-button",3,"disabled","click"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf"],[1,"hint"],["mat-header-row",""],["mat-row","",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"table",2),e.ynx(3,3),e.YNc(4,Le,2,0,"th",4),e.YNc(5,ze,4,3,"td",5),e.BQk(),e.YNc(6,Ge,1,0,"tr",6),e.YNc(7,je,1,2,"tr",7),e.qZA(),e.qZA(),e.TgZ(8,"div",8),e.TgZ(9,"button",9),e.NdJ("click",function(){return i.moveRight()}),e._uU(10," Add "),e.TgZ(11,"mat-icon"),e._uU(12,"chevron_right"),e.qZA(),e.qZA(),e._UZ(13,"br"),e.TgZ(14,"button",9),e.NdJ("click",function(){return i.moveLeft()}),e.TgZ(15,"mat-icon"),e._uU(16,"chevron_left"),e.qZA(),e._uU(17," Remove "),e.qZA(),e.qZA(),e.TgZ(18,"div",10),e.TgZ(19,"table",2),e.ynx(20,3),e.YNc(21,Xe,2,0,"th",4),e.YNc(22,tt,4,3,"td",5),e.BQk(),e.YNc(23,nt,1,0,"tr",6),e.YNc(24,it,1,2,"tr",7),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"div",11),e.TgZ(26,"button",12),e.NdJ("click",function(){return i.moveDown()}),e.TgZ(27,"mat-icon"),e._uU(28,"keyboard_arrow_down"),e.qZA(),e.qZA(),e.TgZ(29,"button",12),e.NdJ("click",function(){return i.moveUp()}),e.TgZ(30,"mat-icon"),e._uU(31,"keyboard_arrow_up"),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("dataSource",i.availableDataSource),e.xp6(4),e.Q6J("cdkHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("cdkRowDefColumns",i.displayedColumns),e.xp6(2),e.Q6J("disabled",!i.isAnyLeftSelected()),e.xp6(5),e.Q6J("disabled",!i.isAnyRightSelected()),e.xp6(5),e.Q6J("dataSource",i.selectedDataSource),e.xp6(4),e.Q6J("cdkHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("cdkRowDefColumns",i.displayedColumns),e.xp6(2),e.Q6J("disabled",!i.isAnyRightSelected()),e.xp6(3),e.Q6J("disabled",!i.isAnyRightSelected()))},directives:[m.BZ,T.fo,T.D5,m.ge,T.O_,m.ev,p.O5,T.s$,m.XQ,T.Sq,m.Gk,U.Hw],styles:[".bands-from[_ngcontent-%COMP%], .bands-to[_ngcontent-%COMP%]{border:1px solid #d3d3d3;flex:1 1 auto}.bands-from[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .bands-to[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}.bands-from[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .bands-to[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{cursor:pointer}"],changeDetection:0}),n})();const G=function(n){return{c:n}};let j=(()=>{class n{constructor(t,i,a,s,c){this.yamcs=i,this.formBuilder=a,this.messageService=s,this.router=c,t.setTitle("Create a View"),this.form=this.formBuilder.group({name:["",[r.kI.required]],bands:[[],[]]})}onConfirm(){const t=this.form.value;this.yamcs.yamcsClient.createTimelineView(this.yamcs.instance,{name:t.name,bands:t.bands.map(i=>i.id)}).then(i=>this.router.navigateByUrl(`/timeline/chart?c=${this.yamcs.context}&view=${i.id}`)).catch(i=>this.messageService.showError(i))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.Dx),e.Y36(f.C),e.Y36(r.qu),e.Y36(Z.e),e.Y36(_.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:27,vars:8,consts:[["mat-icon-button","","routerLink","..","color","primary",3,"queryParams"],[1,"form-content","ya-form"],["novalidate","","autocomplete","off",3,"formGroup"],[1,"hint"],["type","text","formControlName","name"],[1,"section-divider"],["formControlName","bands"],[1,"action-bar"],["routerLink","..",1,"ya-button",3,"queryParams"],["type","submit",1,"ya-button","primary",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"app-instance-page"),e.TgZ(1,"app-instance-toolbar"),e.TgZ(2,"a",0),e.TgZ(3,"mat-icon"),e._uU(4,"arrow_back"),e.qZA(),e.qZA(),e._uU(5," Create view "),e.qZA(),e.TgZ(6,"div",1),e.TgZ(7,"form",2),e.TgZ(8,"label"),e._uU(9," Name "),e.TgZ(10,"span",3),e._uU(11,"(required)"),e.qZA(),e._UZ(12,"br"),e._UZ(13,"input",4),e.qZA(),e._UZ(14,"br"),e.TgZ(15,"div",5),e._UZ(16,"mat-divider"),e.qZA(),e.TgZ(17,"h4"),e._uU(18,"Bands"),e.qZA(),e._UZ(19,"app-band-multi-select",6),e.qZA(),e.TgZ(20,"p"),e._uU(21,"\xa0"),e.qZA(),e.TgZ(22,"div",7),e.TgZ(23,"button",8),e._uU(24,"Cancel"),e.qZA(),e.TgZ(25,"button",9),e.NdJ("click",function(){return i.onConfirm()}),e._uU(26,"CREATE"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("queryParams",e.VKq(4,G,i.yamcs.context)),e.xp6(5),e.Q6J("formGroup",i.form),e.xp6(16),e.Q6J("queryParams",e.VKq(6,G,i.yamcs.context)),e.xp6(2),e.Q6J("disabled",!i.form.valid))},directives:[y.a,C.k,A.zs,_.yS,U.Hw,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,q.d,E,_.rH],encapsulation:2,changeDetection:0}),n})();var x=d(1135),X=d(4363),Q=d(97),at=d(2368),ot=d(141);const h={frozen:!1,itemBackgroundColor:"#77b1e1",itemBorderColor:"#3d94c7",itemBorderWidth:1,itemCornerRadius:0,itemHeight:20,itemMarginLeft:5,itemTextColor:"#333333",itemTextOverflow:"show",itemTextSize:10,marginBottom:7,marginTop:7,multiline:!0,spaceBetweenItems:0,spaceBetweenLines:2};function W(n){return function rt(n,o){const t=Object.assign({},n);for(const i in h){const a=n[i];o[i]&&(t[i]="boolean"==typeof a?"true"===o[i]:"number"==typeof a?Number(o[i]):o[i])}return t}(h,n)}let K=(()=>{class n{constructor(){this.itemTextOverflowOptions=[{id:"show",label:"Show"},{id:"clip",label:"Clip"},{id:"hide",label:"Hide"}]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-item-band-styles"]],inputs:{form:"form"},decls:85,vars:2,consts:[[3,"formGroup"],["yaSimpleTable","","formGroupName","properties",1,"style-table"],[1,"property"],["dialogTitle","Frozen"],[1,"widget"],["formControlName","frozen"],["dialogTitle","Multiline"],["formControlName","multiline"],["dialogTitle","Space Between Lines"],["type","number","formControlName","spaceBetweenLines","min","0",2,"width","100px"],["dialogTitle","Space Between Items"],["type","number","formControlName","spaceBetweenItems","min","0",2,"width","100px"],["type","number","formControlName","marginTop","min","0",2,"width","100px"],["type","number","formControlName","marginBottom","min","0",2,"width","100px"],["type","number","formControlName","itemHeight","min","0",2,"width","100px"],["type","color","formControlName","itemBackgroundColor"],["type","color","formControlName","itemTextColor"],["formControlName","itemTextOverflow",3,"options"],["type","number","formControlName","itemTextSize","min","0",2,"width","100px"],["type","number","formControlName","itemMarginLeft","min","0",2,"width","100px"],["type","color","formControlName","itemBorderColor"],["type","number","formControlName","itemBorderWidth","min","0",2,"width","100px"],["type","number","formControlName","itemCornerRadius","min","0",2,"width","100px"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0),e.TgZ(1,"table",1),e.TgZ(2,"tr"),e.TgZ(3,"td",2),e._uU(4," Frozen "),e.TgZ(5,"app-help",3),e._uU(6," Fix this line to the top of the view. Frozen bands are always rendered above other bands. "),e.qZA(),e.qZA(),e.TgZ(7,"td",4),e._UZ(8,"mat-slide-toggle",5),e.qZA(),e.qZA(),e.TgZ(9,"tr"),e.TgZ(10,"td",2),e._uU(11," Multiline "),e.TgZ(12,"app-help",6),e._uU(13," Draw items on multiple lines if otherwise there would be collisions. "),e.qZA(),e.qZA(),e.TgZ(14,"td",4),e._UZ(15,"mat-slide-toggle",7),e.qZA(),e.qZA(),e.TgZ(16,"tr"),e.TgZ(17,"td",2),e._uU(18," Space Between Lines "),e.TgZ(19,"app-help",8),e._uU(20," In case of multilining, this indicates the vertical space between lines. "),e.qZA(),e.qZA(),e.TgZ(21,"td",4),e._UZ(22,"input",9),e.qZA(),e.qZA(),e.TgZ(23,"tr"),e.TgZ(24,"td",2),e._uU(25," Space Between Items "),e.TgZ(26,"app-help",10),e._uU(27," In case of multilining, this indicates the minimum horizontal space between items. If an item does not meet this treshold, it gets rendered on a different line. "),e.qZA(),e.qZA(),e.TgZ(28,"td",4),e._UZ(29,"input",11),e.qZA(),e.qZA(),e.TgZ(30,"tr"),e.TgZ(31,"td",2),e._uU(32," Margin Top "),e.qZA(),e.TgZ(33,"td",4),e._UZ(34,"input",12),e.qZA(),e.qZA(),e.TgZ(35,"tr"),e.TgZ(36,"td",2),e._uU(37," Margin Bottom "),e.qZA(),e.TgZ(38,"td",4),e._UZ(39,"input",13),e.qZA(),e.qZA(),e.TgZ(40,"tr"),e.TgZ(41,"td",2),e._uU(42," Item Height "),e.qZA(),e.TgZ(43,"td",4),e._UZ(44,"input",14),e.qZA(),e.qZA(),e.TgZ(45,"tr"),e.TgZ(46,"td",2),e._uU(47," Item Background Color "),e.qZA(),e.TgZ(48,"td",4),e._UZ(49,"input",15),e.qZA(),e.qZA(),e.TgZ(50,"tr"),e.TgZ(51,"td",2),e._uU(52," Item Text Color "),e.qZA(),e.TgZ(53,"td",4),e._UZ(54,"input",16),e.qZA(),e.qZA(),e.TgZ(55,"tr"),e.TgZ(56,"td",2),e._uU(57," Item Text Overflow "),e.qZA(),e.TgZ(58,"td",4),e._UZ(59,"app-select",17),e.qZA(),e.qZA(),e.TgZ(60,"tr"),e.TgZ(61,"td",2),e._uU(62," Item Text Size "),e.qZA(),e.TgZ(63,"td",4),e._UZ(64,"input",18),e.qZA(),e.qZA(),e.TgZ(65,"tr"),e.TgZ(66,"td",2),e._uU(67," Item Margin Left "),e.qZA(),e.TgZ(68,"td",4),e._UZ(69,"input",19),e.qZA(),e.qZA(),e.TgZ(70,"tr"),e.TgZ(71,"td",2),e._uU(72," Item Border Color "),e.qZA(),e.TgZ(73,"td",4),e._UZ(74,"input",20),e.qZA(),e.qZA(),e.TgZ(75,"tr"),e.TgZ(76,"td",2),e._uU(77," Item Border Width "),e.qZA(),e.TgZ(78,"td",4),e._UZ(79,"input",21),e.qZA(),e.qZA(),e.TgZ(80,"tr"),e.TgZ(81,"td",2),e._uU(82," Item Corner Radius "),e.qZA(),e.TgZ(83,"td",4),e._UZ(84,"input",22),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("formGroup",i.form),e.xp6(59),e.Q6J("options",i.itemTextOverflowOptions))},directives:[r._Y,r.JL,r.sg,X.R,r.x0,Q.W,at.Rr,r.JJ,r.u,r.wV,r.qQ,r.Fj,ot.P],styles:[".style-table[_ngcontent-%COMP%]   .property[_ngcontent-%COMP%]{font-weight:500;font-size:11px;letter-spacing:.02em;line-height:12px;color:#000;width:150px}"],changeDetection:0}),n})();function st(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-label",4),e._uU(1),e.TgZ(2,"mat-icon",5),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).removeTag(s)}),e._uU(3,"close"),e.qZA(),e.qZA()}if(2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t," ")}}function ct(n,o){1&n&&(e.ynx(0),e._uU(1,"\xa0"),e.BQk())}function lt(n,o){if(1&n&&(e.ynx(0),e.YNc(1,st,4,1,"app-label",3),e.YNc(2,ct,2,0,"ng-container",0),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t),e.xp6(1),e.Q6J("ngIf",t.length)}}let J=(()=>{class n{constructor(){this.control=new r.NI(null),this.onChange=t=>{},this.tags$=new x.X([])}addTag(){const t=this.control.value;if(t){const i=[...this.tags$.value];-1===i.indexOf(t)&&i.push(t),i.sort(),this.tags$.next(i)}this.control.setValue(""),this.onChange(this.tags$.value)}removeTag(t){const i=[...this.tags$.value],a=i.indexOf(t);-1!==a&&i.splice(a,1),this.tags$.next(i),this.onChange(i)}writeValue(t){this.tags$.next(t||[])}registerOnChange(t){this.onChange=t}registerOnTouched(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-tag-select"]],features:[e._Bn([{provide:r.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}])],decls:5,vars:5,consts:[[4,"ngIf"],["type","text","placeholder","my-tag",2,"width","120px","display","inline-block",3,"formControl","keydown.enter"],[1,"ya-button",3,"disabled","click"],["backgroundColor","#cdeefd",4,"ngFor","ngForOf"],["backgroundColor","#cdeefd"],[1,"tag-icon",3,"click"]],template:function(t,i){1&t&&(e.YNc(0,lt,3,2,"ng-container",0),e.ALo(1,"async"),e.TgZ(2,"input",1),e.NdJ("keydown.enter",function(s){return i.addTag(),s.preventDefault()}),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return i.addTag()}),e._uU(4,"Add"),e.qZA()),2&t&&(e.Q6J("ngIf",e.lcZ(1,3,i.tags$)),e.xp6(2),e.Q6J("formControl",i.control),e.xp6(1),e.Q6J("disabled",!i.control.value))},directives:[p.O5,p.sg,Y._,U.Hw,r.Fj,r.JJ,r.oH],pipes:[p.Ov],styles:[".tag-icon[_ngcontent-%COMP%]{vertical-align:middle;font-size:12px!important;line-height:16px;height:16px;width:16px;color:gray;cursor:pointer}.tag-icon[_ngcontent-%COMP%]:hover{color:inherit}"],changeDetection:0}),n})();function mt(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"form",1),e.TgZ(2,"label"),e._uU(3," Label "),e.TgZ(4,"span",2),e._uU(5,"(required)"),e.qZA(),e._UZ(6,"br"),e._UZ(7,"input",3),e.qZA(),e._UZ(8,"br"),e.TgZ(9,"label"),e._uU(10," Description "),e.TgZ(11,"span",2),e._uU(12,"(optional)"),e.qZA(),e._UZ(13,"br"),e._UZ(14,"textarea",4),e.qZA(),e._UZ(15,"br"),e.TgZ(16,"label"),e._uU(17," Tags"),e._UZ(18,"br"),e._UZ(19,"app-tag-select",5),e.qZA(),e._UZ(20,"br"),e.TgZ(21,"div",6),e._UZ(22,"mat-divider"),e.qZA(),e.TgZ(23,"h4"),e._uU(24,"Styles"),e.qZA(),e._UZ(25,"app-item-band-styles",7),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(24),e.Q6J("form",t.form)}}let ee=(()=>{class n{constructor(t,i){this.yamcs=t,this.changeDetection=i,this.formConfigured$=new x.X(!1)}ngAfterViewInit(){const t=W(this.band.properties||{}),i={frozen:[t.frozen,[r.kI.required]],itemBackgroundColor:[t.itemBackgroundColor,[r.kI.required]],itemBorderColor:[t.itemBorderColor,[r.kI.required]],itemBorderWidth:[t.itemBorderWidth,[r.kI.required]],itemCornerRadius:[t.itemCornerRadius,[r.kI.required]],itemHeight:[t.itemHeight,[r.kI.required]],itemMarginLeft:[t.itemMarginLeft,[r.kI.required]],itemTextColor:[t.itemTextColor,[r.kI.required]],itemTextOverflow:[t.itemTextOverflow,[r.kI.required]],itemTextSize:[t.itemTextSize,[r.kI.required]],marginBottom:[t.marginBottom,[r.kI.required]],marginTop:[t.marginTop,[r.kI.required]],multiline:[t.multiline,[r.kI.required]],spaceBetweenItems:[t.spaceBetweenItems,[r.kI.required]],spaceBetweenLines:[t.spaceBetweenLines,[r.kI.required]]},a=this.form.get("properties");for(const s in i){const c=i[s];a.addControl(s,new r.NI(c[0],c[1]))}this.formConfigured$.next(!0),this.changeDetection.detectChanges()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.C),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-item-band"]],inputs:{form:"form",band:"band"},decls:2,vars:3,consts:[[4,"ngIf"],[3,"formGroup"],[1,"hint"],["type","text","formControlName","name"],["formControlName","description","rows","3"],["formControlName","tags"],[1,"section-divider"],[3,"form"]],template:function(t,i){1&t&&(e.YNc(0,mt,26,2,"ng-container",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,i.formConfigured$))},directives:[p.O5,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,J,q.d,K],pipes:[p.Ov],encapsulation:2,changeDetection:0}),n})();const M={height:34};function te(n){return function dt(n,o){const t=Object.assign({},n);for(const i in M){const a=n[i];o[i]&&(t[i]="boolean"==typeof a?"true"===o[i]:"number"==typeof a?Number(o[i]):o[i])}return t}(M,n)}let ne=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-spacer-styles"]],inputs:{form:"form"},decls:7,vars:1,consts:[[3,"formGroup"],["yaSimpleTable","","formGroupName","properties",1,"style-table"],[1,"property"],[1,"widget"],["type","number","formControlName","height","min","0",2,"width","100px"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0),e.TgZ(1,"table",1),e.TgZ(2,"tr"),e.TgZ(3,"td",2),e._uU(4," Height "),e.qZA(),e.TgZ(5,"td",3),e._UZ(6,"input",4),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&e.Q6J("formGroup",i.form)},directives:[r._Y,r.JL,r.sg,X.R,r.x0,r.wV,r.qQ,r.Fj,r.JJ,r.u],styles:[".style-table[_ngcontent-%COMP%]   .property[_ngcontent-%COMP%]{font-weight:500;font-size:11px;letter-spacing:.02em;line-height:12px;color:#000;width:150px}"],changeDetection:0}),n})();function ut(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"form",1),e.TgZ(2,"label"),e._uU(3," Label "),e.TgZ(4,"span",2),e._uU(5,"(optional)"),e.qZA(),e._UZ(6,"br"),e._UZ(7,"input",3),e.qZA(),e._UZ(8,"br"),e.TgZ(9,"label"),e._uU(10," Description "),e.TgZ(11,"span",2),e._uU(12,"(optional)"),e.qZA(),e._UZ(13,"br"),e._UZ(14,"textarea",4),e.qZA(),e._UZ(15,"br"),e.TgZ(16,"div",5),e._UZ(17,"mat-divider"),e.qZA(),e.TgZ(18,"h4"),e._uU(19,"Styles"),e.qZA(),e._UZ(20,"app-spacer-styles",6),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(19),e.Q6J("form",t.form)}}let ie=(()=>{class n{constructor(t,i){this.yamcs=t,this.changeDetection=i,this.formConfigured$=new x.X(!1)}ngAfterViewInit(){this.form.get("label").clearValidators();const i={height:[te(this.band.properties||{}).height,[r.kI.required]]},a=this.form.get("properties");for(const s in i){const c=i[s];a.addControl(s,new r.NI(c[0],c[1]))}this.formConfigured$.next(!0),this.changeDetection.detectChanges()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.C),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-spacer"]],inputs:{form:"form",band:"band"},decls:2,vars:3,consts:[[4,"ngIf"],[3,"formGroup"],[1,"hint"],["type","text","formControlName","name",2,"width","100%"],["formControlName","description","rows","3"],[1,"section-divider"],[3,"form"]],template:function(t,i){1&t&&(e.YNc(0,ut,21,2,"ng-container",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,i.formConfigured$))},directives:[p.O5,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,q.d,ne],pipes:[p.Ov],encapsulation:2,changeDetection:0}),n})();var ae=d(5342);function pt(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"form",1),e.TgZ(2,"label"),e._uU(3," Label "),e.TgZ(4,"span",2),e._uU(5,"(required)"),e.qZA(),e._UZ(6,"br"),e._UZ(7,"input",3),e.qZA(),e._UZ(8,"br"),e.TgZ(9,"label"),e._uU(10," Description "),e.TgZ(11,"span",2),e._uU(12,"(optional)"),e.qZA(),e._UZ(13,"br"),e._UZ(14,"textarea",4),e.qZA(),e.ynx(15,5),e._UZ(16,"br"),e.TgZ(17,"label"),e._uU(18," Timezone"),e._UZ(19,"br"),e._UZ(20,"app-timezone-select",6),e.qZA(),e.BQk(),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.form)}}let oe=(()=>{class n{constructor(t,i){this.yamcs=t,this.changeDetection=i,this.formConfigured$=new x.X(!1)}ngAfterViewInit(){const t={timezone:[this.band.properties.timezone,[r.kI.required]]},i=this.form.get("properties");for(const a in t){const s=t[a];i.addControl(a,new r.NI(s[0],s[1]))}this.formConfigured$.next(!0),this.changeDetection.detectChanges()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.C),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-time-ruler"]],inputs:{form:"form",band:"band"},decls:2,vars:3,consts:[[4,"ngIf"],[3,"formGroup"],[1,"hint"],["type","text","formControlName","name",2,"width","100%"],["formControlName","description","rows","3"],["formGroupName","properties"],["formControlName","timezone"]],template:function(t,i){1&t&&(e.YNc(0,pt,21,1,"ng-container",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,i.formConfigured$))},directives:[p.O5,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,r.x0,ae.C],pipes:[p.Ov],encapsulation:2,changeDetection:0}),n})();function gt(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"form",1),e.TgZ(2,"label"),e._uU(3," Label "),e.TgZ(4,"span",2),e._uU(5,"(required)"),e.qZA(),e._UZ(6,"br"),e._UZ(7,"input",3),e.qZA(),e._UZ(8,"br"),e.TgZ(9,"label"),e._uU(10," Description "),e.TgZ(11,"span",2),e._uU(12,"(optional)"),e.qZA(),e._UZ(13,"br"),e._UZ(14,"textarea",4),e.qZA(),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.form)}}let _t=(()=>{class n{constructor(t,i){this.yamcs=t,this.changeDetection=i,this.formConfigured$=new x.X(!1)}ngAfterViewInit(){this.formConfigured$.next(!0),this.changeDetection.detectChanges()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.C),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-command-band"]],inputs:{form:"form",band:"band"},decls:2,vars:3,consts:[[4,"ngIf"],[3,"formGroup"],[1,"hint"],["type","text","formControlName","name",2,"width","100%"],["formControlName","description","rows","3"]],template:function(t,i){1&t&&(e.YNc(0,gt,15,1,"ng-container",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,i.formConfigured$))},directives:[p.O5,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u],pipes:[p.Ov],encapsulation:2,changeDetection:0}),n})();function ft(n,o){if(1&n&&e._UZ(0,"app-edit-item-band",7),2&n){const t=e.oxw().ngIf,i=e.oxw();e.Q6J("form",i.form)("band",t)}}function ht(n,o){if(1&n&&e._UZ(0,"app-edit-spacer",7),2&n){const t=e.oxw().ngIf,i=e.oxw();e.Q6J("form",i.form)("band",t)}}function Zt(n,o){if(1&n&&e._UZ(0,"app-edit-time-ruler",7),2&n){const t=e.oxw().ngIf,i=e.oxw();e.Q6J("form",i.form)("band",t)}}function Tt(n,o){if(1&n&&e._UZ(0,"app-edit-command-band",7),2&n){const t=e.oxw().ngIf,i=e.oxw();e.Q6J("form",i.form)("band",t)}}function bt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-instance-page"),e.TgZ(1,"app-instance-toolbar"),e._uU(2,"Edit band"),e.qZA(),e.TgZ(3,"div",1),e.TgZ(4,"form",2),e.YNc(5,ft,1,2,"app-edit-item-band",3),e.YNc(6,ht,1,2,"app-edit-spacer",3),e.YNc(7,Zt,1,2,"app-edit-time-ruler",3),e.YNc(8,Tt,1,2,"app-edit-command-band",3),e.qZA(),e.TgZ(9,"p"),e._uU(10,"\xa0"),e.qZA(),e.TgZ(11,"div",4),e.TgZ(12,"button",5),e.NdJ("click",function(){return e.CHM(t),e.oxw().location.back()}),e._uU(13,"Cancel"),e.qZA(),e.TgZ(14,"button",6),e.NdJ("click",function(){return e.CHM(t),e.oxw().doOnConfirm()}),e.ALo(15,"async"),e._uU(16,"SAVE CHANGES"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=o.ngIf,i=e.oxw();e.xp6(4),e.Q6J("formGroup",i.form),e.xp6(1),e.Q6J("ngIf","ITEM_BAND"===t.type),e.xp6(1),e.Q6J("ngIf","SPACER"===t.type),e.xp6(1),e.Q6J("ngIf","TIME_RULER"===t.type),e.xp6(1),e.Q6J("ngIf","COMMAND_BAND"===t.type),e.xp6(6),e.Q6J("disabled",!e.lcZ(15,6,i.dirty$)||!i.form.valid)}}let re=(()=>{class n{constructor(t,i,a,s,c,l,u){this.yamcs=i,this.messageService=a,this.route=s,this.router=c,this.location=u,this.dirty$=new x.X(!1),t.setTitle("Edit Band");const S=s.snapshot.paramMap.get("band");this.band$=i.yamcsClient.getTimelineBand(i.instance,S),this.band$.then(w=>{this.form=l.group({name:[w.name,[r.kI.required]],description:[w.description||""],tags:[w.tags||[]],properties:l.group({})}),this.formSubscription=this.form.valueChanges.subscribe(()=>{this.dirty$.next(!0)})}).catch(w=>this.messageService.showError(w))}doOnConfirm(){const t=this.route.snapshot.paramMap.get("band"),i=this.form.value;this.yamcs.yamcsClient.updateTimelineBand(this.yamcs.instance,t,{name:i.name,description:i.description,shared:!0,tags:i.tags,properties:i.properties}).then(()=>this.router.navigateByUrl(`/timeline/bands?c=${this.yamcs.context}`)).catch(s=>this.messageService.showError(s))}ngOnDestroy(){this.formSubscription&&this.formSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.Dx),e.Y36(f.C),e.Y36(Z.e),e.Y36(_.gz),e.Y36(_.F0),e.Y36(r.qu),e.Y36(p.Ye))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"form-content","ya-form"],["novalidate","","autocomplete","off",3,"formGroup"],[3,"form","band",4,"ngIf"],[1,"action-bar"],[1,"ya-button",3,"click"],["type","submit",1,"ya-button","primary",3,"disabled","click"],[3,"form","band"]],template:function(t,i){1&t&&(e.YNc(0,bt,17,8,"app-instance-page",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,i.band$))},directives:[p.O5,y.a,C.k,r._Y,r.JL,r.sg,ee,ie,oe,_t],pipes:[p.Ov],encapsulation:2,changeDetection:0}),n})();const se=function(n){return{c:n}};let ce=(()=>{class n{constructor(t,i,a,s,c,l,u){this.yamcs=i,this.messageService=a,this.route=s,this.router=c,this.location=l,this.dirty$=new x.X(!1),t.setTitle("Edit View");const S=s.snapshot.paramMap.get("view");this.form=u.group({name:[null,r.kI.required],bands:[null,[]]}),i.yamcsClient.getTimelineView(i.instance,S).then(w=>{this.form.setValue({name:w.name,bands:w.bands||[]}),this.formSubscription=this.form.valueChanges.subscribe(()=>{this.dirty$.next(!0)})}).catch(w=>this.messageService.showError(w))}onConfirm(){const t=this.form.value,i={name:t.name,bands:t.bands.map(s=>s.id)},a=this.route.snapshot.paramMap.get("view");this.yamcs.yamcsClient.updateTimelineView(this.yamcs.instance,a,i).then(()=>this.router.navigateByUrl(`/timeline/views?c=${this.yamcs.context}`)).catch(s=>this.messageService.showError(s))}ngOnDestroy(){this.formSubscription&&this.formSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.Dx),e.Y36(f.C),e.Y36(Z.e),e.Y36(_.gz),e.Y36(_.F0),e.Y36(p.Ye),e.Y36(r.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:28,vars:10,consts:[["mat-icon-button","","routerLink","..","color","primary",3,"queryParams"],[1,"form-content","ya-form"],["novalidate","","autocomplete","off",3,"formGroup"],[1,"hint"],["type","text","formControlName","name"],[1,"section-divider"],["formControlName","bands"],[1,"action-bar"],["routerLink","..",1,"ya-button",3,"queryParams"],["type","submit",1,"ya-button","primary",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"app-instance-page"),e.TgZ(1,"app-instance-toolbar"),e.TgZ(2,"a",0),e.TgZ(3,"mat-icon"),e._uU(4,"arrow_back"),e.qZA(),e.qZA(),e._uU(5," Update view "),e.qZA(),e.TgZ(6,"div",1),e.TgZ(7,"form",2),e.TgZ(8,"label"),e._uU(9," Name "),e.TgZ(10,"span",3),e._uU(11,"(required)"),e.qZA(),e._UZ(12,"br"),e._UZ(13,"input",4),e.qZA(),e._UZ(14,"br"),e.TgZ(15,"div",5),e._UZ(16,"mat-divider"),e.qZA(),e.TgZ(17,"h4"),e._uU(18,"Bands"),e.qZA(),e._UZ(19,"app-band-multi-select",6),e.qZA(),e.TgZ(20,"p"),e._uU(21,"\xa0"),e.qZA(),e.TgZ(22,"div",7),e.TgZ(23,"button",8),e._uU(24,"Cancel"),e.qZA(),e.TgZ(25,"button",9),e.NdJ("click",function(){return i.onConfirm()}),e.ALo(26,"async"),e._uU(27,"SAVE CHANGES"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("queryParams",e.VKq(6,se,i.yamcs.context)),e.xp6(5),e.Q6J("formGroup",i.form),e.xp6(16),e.Q6J("queryParams",e.VKq(8,se,i.yamcs.context)),e.xp6(2),e.Q6J("disabled",!e.lcZ(26,4,i.dirty$)||!i.form.valid))},directives:[y.a,C.k,A.zs,_.yS,U.Hw,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,q.d,E,_.rH],pipes:[p.Ov],encapsulation:2,changeDetection:0}),n})();const yt=function(n){return{c:n}};let le=(()=>{class n{constructor(t,i,a,s,c){this.yamcs=a,this.messageService=s,this.router=c,t.setTitle("Configure Item Band"),this.form=i.group({name:["",[r.kI.required]],description:"",properties:i.group({frozen:[h.frozen,[r.kI.required]],itemBackgroundColor:[h.itemBackgroundColor,[r.kI.required]],itemBorderColor:[h.itemBorderColor,[r.kI.required]],itemBorderWidth:[h.itemBorderWidth,[r.kI.required]],itemCornerRadius:[h.itemCornerRadius,[r.kI.required]],itemHeight:[h.itemHeight,[r.kI.required]],itemMarginLeft:[h.itemMarginLeft,[r.kI.required]],itemTextColor:[h.itemTextColor,[r.kI.required]],itemTextOverflow:[h.itemTextOverflow,[r.kI.required]],itemTextSize:[h.itemTextSize,[r.kI.required]],marginBottom:[h.marginBottom,[r.kI.required]],marginTop:[h.marginTop,[r.kI.required]],multiline:[h.multiline,[r.kI.required]],spaceBetweenItems:[h.spaceBetweenItems,[r.kI.required]],spaceBetweenLines:[h.spaceBetweenLines,[r.kI.required]]}),tags:[[],[]]})}onConfirm(){const t=this.form.value;this.yamcs.yamcsClient.createTimelineBand(this.yamcs.instance,{name:t.name,description:t.description,type:"ITEM_BAND",shared:!0,tags:t.tags,properties:t.properties}).then(()=>this.router.navigateByUrl(`/timeline/bands?c=${this.yamcs.context}`)).catch(i=>this.messageService.showError(i))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.Dx),e.Y36(r.qu),e.Y36(f.C),e.Y36(Z.e),e.Y36(_.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:37,vars:6,consts:[["step","2"],[1,"form-content","ya-form"],["novalidate","","autocomplete","off",3,"formGroup"],[1,"hint"],["type","text","formControlName","name"],["formControlName","description","rows","3"],["formControlName","tags"],[1,"section-divider"],[3,"form"],[1,"action-bar"],["routerLink","../..",1,"ya-button",3,"queryParams"],["type","submit",1,"ya-button","primary",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"app-instance-page"),e.TgZ(1,"app-instance-toolbar"),e._uU(2," Create band "),e.qZA(),e._UZ(3,"app-create-band-wizard-step",0),e.TgZ(4,"div",1),e.TgZ(5,"form",2),e.TgZ(6,"label"),e._uU(7," Label "),e.TgZ(8,"span",3),e._uU(9,"(required)"),e.qZA(),e._UZ(10,"br"),e._UZ(11,"input",4),e.qZA(),e._UZ(12,"br"),e.TgZ(13,"label"),e._uU(14," Description "),e.TgZ(15,"span",3),e._uU(16,"(optional)"),e.qZA(),e._UZ(17,"br"),e._UZ(18,"textarea",5),e.qZA(),e._UZ(19,"br"),e.TgZ(20,"label"),e._uU(21," Tags"),e._UZ(22,"br"),e._UZ(23,"app-tag-select",6),e.qZA(),e._UZ(24,"br"),e.TgZ(25,"div",7),e._UZ(26,"mat-divider"),e.qZA(),e.TgZ(27,"h4"),e._uU(28,"Styles"),e.qZA(),e._UZ(29,"app-item-band-styles",8),e.qZA(),e.TgZ(30,"p"),e._uU(31,"\xa0"),e.qZA(),e.TgZ(32,"div",9),e.TgZ(33,"button",10),e._uU(34,"Cancel"),e.qZA(),e.TgZ(35,"button",11),e.NdJ("click",function(){return i.onConfirm()}),e._uU(36,"CREATE"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(5),e.Q6J("formGroup",i.form),e.xp6(24),e.Q6J("form",i.form),e.xp6(4),e.Q6J("queryParams",e.VKq(4,yt,i.yamcs.context)),e.xp6(2),e.Q6J("disabled",!i.form.valid))},directives:[y.a,C.k,I,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,J,q.d,K,_.rH],encapsulation:2,changeDetection:0}),n})();var g=d(8966),k=d(2134),me=d(934),O=d(4071);let de=(()=>{class n{constructor(t,i,a,s,c){this.dialogRef=t,this.yamcs=a,this.messageService=s,this.data=c,this.startConstraintOptions=[{id:"START_ON",label:"Start on"}],this.form=i.group({name:["",r.kI.required],start:[k.Y6(a.getMissionTime()),r.kI.required],duration:["",r.kI.required],tags:[[],[]]})}save(){this.yamcs.yamcsClient.createTimelineItem(this.yamcs.instance,{name:this.form.value.name,start:k.Y6(this.form.value.start),duration:this.form.value.duration,tags:this.form.value.tags,type:"EVENT"}).then(t=>this.dialogRef.close(t)).catch(t=>this.messageService.showError(t))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.so),e.Y36(r.qu),e.Y36(f.C),e.Y36(Z.e),e.Y36(g.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:32,vars:2,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"ya-form",3,"formGroup"],["type","text","formControlName","name",2,"width","100%"],["dialogTitle","Tags"],["formControlName","tags"],["formControlName","duration"],[1,"section-divider"],["formControlName","start"],["align","end"],["mat-dialog-close","",1,"ya-button"],[1,"ya-button","primary",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"h2",0),e._uU(1,"Add item"),e.qZA(),e.TgZ(2,"mat-dialog-content",1),e.TgZ(3,"form",2),e.TgZ(4,"label"),e._uU(5," Name"),e._UZ(6,"br"),e._UZ(7,"input",3),e.qZA(),e._UZ(8,"br"),e.TgZ(9,"label"),e._uU(10," Tags "),e.TgZ(11,"app-help",4),e._uU(12," Tags allow to categorise items per band. Bands only show items for which one of the tags is matching. "),e.qZA(),e._UZ(13,"br"),e._UZ(14,"app-tag-select",5),e.qZA(),e._UZ(15,"br"),e.TgZ(16,"label"),e._uU(17," Duration "),e._UZ(18,"app-duration-input",6),e.qZA(),e._UZ(19,"br"),e.TgZ(20,"div",7),e._UZ(21,"mat-divider"),e.qZA(),e._UZ(22,"br"),e.TgZ(23,"label"),e._uU(24," Start"),e._UZ(25,"br"),e._UZ(26,"app-date-time-input",8),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"mat-dialog-actions",9),e.TgZ(28,"button",10),e._uU(29,"CANCEL"),e.qZA(),e.TgZ(30,"button",11),e.NdJ("click",function(){return i.save()}),e._uU(31,"SAVE"),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Q6J("formGroup",i.form),e.xp6(27),e.Q6J("disabled",!i.form.valid))},directives:[g.uh,g.xY,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,Q.W,J,me.j,q.d,O.Y,g.H8,g.ZT],encapsulation:2,changeDetection:0}),n})();var ue=d(119);function Ct(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"th",21),e.TgZ(1,"input",22),e.NdJ("change",function(a){e.CHM(t);const s=e.oxw(2);return a?s.masterToggle():null}),e.qZA(),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())}}function xt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",23),e.TgZ(1,"input",24),e.NdJ("click",function(a){return a.stopPropagation()})("change",function(a){const c=e.CHM(t).$implicit,l=e.oxw(2);return a?l.selection.toggle(c):null}),e.qZA(),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("checked",i.selection.isSelected(t))}}function At(n,o){1&n&&(e.TgZ(0,"th",25),e._uU(1,"Label"),e.qZA())}function qt(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.name)}}function wt(n,o){1&n&&(e.TgZ(0,"i"),e._uU(1,"(none)"),e.qZA())}function vt(n,o){if(1&n&&(e.TgZ(0,"td",26),e.YNc(1,qt,2,1,"ng-container",27),e.YNc(2,wt,2,0,"i",27),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",t.name),e.xp6(1),e.Q6J("ngIf",!t.name)}}function Ut(n,o){1&n&&(e.TgZ(0,"th",25),e._uU(1,"Tags"),e.qZA())}function kt(n,o){if(1&n&&(e.TgZ(0,"app-label",29),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t)}}function St(n,o){1&n&&(e.ynx(0),e._uU(1,"-"),e.BQk())}const Dt=function(){return[]};function Bt(n,o){if(1&n&&(e.TgZ(0,"td",26),e.YNc(1,kt,2,1,"app-label",28),e.YNc(2,St,2,0,"ng-container",27),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngForOf",t.tags||e.DdM(2,Dt)),e.xp6(1),e.Q6J("ngIf",!t.tags)}}function It(n,o){1&n&&(e.TgZ(0,"th",25),e._uU(1,"Start"),e.qZA())}function Pt(n,o){if(1&n&&(e.TgZ(0,"td",26),e._uU(1),e.ALo(2,"datetime"),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.start)||"-"," ")}}function Jt(n,o){1&n&&(e.TgZ(0,"th",25),e._uU(1,"Duration"),e.qZA())}function Nt(n,o){if(1&n&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.duration," ")}}function Yt(n,o){1&n&&(e.TgZ(0,"th",25),e._uU(1,"Type"),e.qZA())}function Et(n,o){if(1&n&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.type," ")}}function Qt(n,o){1&n&&e._UZ(0,"th",30)}function Mt(n,o){1&n&&e._UZ(0,"td",26)}function Ot(n,o){1&n&&e._UZ(0,"tr",31)}function Vt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",32),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).toggleOne(s)}),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw(2);e.ekj("selected",i.selection.isSelected(t))}}function Rt(n,o){if(1&n&&(e.TgZ(0,"table",4),e.ynx(1,5),e.YNc(2,Ct,2,1,"th",6),e.YNc(3,xt,2,1,"td",7),e.BQk(),e.ynx(4,8),e.YNc(5,At,2,0,"th",9),e.YNc(6,vt,3,2,"td",10),e.BQk(),e.ynx(7,11),e.YNc(8,Ut,2,0,"th",12),e.YNc(9,Bt,3,3,"td",13),e.BQk(),e.ynx(10,14),e.YNc(11,It,2,0,"th",9),e.YNc(12,Pt,3,3,"td",10),e.BQk(),e.ynx(13,15),e.YNc(14,Jt,2,0,"th",9),e.YNc(15,Nt,2,1,"td",10),e.BQk(),e.ynx(16,16),e.YNc(17,Yt,2,0,"th",9),e.YNc(18,Et,2,1,"td",10),e.BQk(),e.ynx(19,17),e.YNc(20,Qt,1,0,"th",18),e.YNc(21,Mt,1,0,"td",10),e.BQk(),e.YNc(22,Ot,1,0,"tr",19),e.YNc(23,Vt,1,2,"tr",20),e.qZA()),2&n){const t=e.oxw();e.Q6J("dataSource",t.dataSource)("trackBy",t.tableTrackerFn),e.xp6(22),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns)}}let pe=(()=>{class n{constructor(t,i,a,s){this.yamcs=t,this.messageService=a,this.dialog=s,this.displayedColumns=["select","name","tags","start","duration","type","actions"],this.tableTrackerFn=(c,l)=>l.id,this.dataSource=new m.by,this.selection=new N.O(this.tableTrackerFn,!0,[]),i.setTitle("Timeline Items"),this.refreshData()}ngAfterViewInit(){this.dataSource.sort=this.sort}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(t=>this.selection.select(t))}toggleOne(t){(!this.selection.isSelected(t)||this.selection.selected.length>1)&&this.selection.clear(),this.selection.toggle(t)}deleteSelectedItems(){if(confirm("Are you sure you want to delete the selected items?"))for(const t of this.selection.selected)this.deleteItem(t.id,!1)}deleteItem(t,i=!0){(!i||confirm("Are you sure you want to delete the selected item?"))&&this.yamcs.yamcsClient.deleteTimelineItem(this.yamcs.instance,t).then(()=>this.refreshData()).catch(a=>this.messageService.showError(a))}isGroupDeleteEnabled(){return!this.selection.isEmpty()}openCreateItemDialog(){this.dialog.open(de,{width:"600px"}).afterClosed().subscribe(()=>this.refreshData())}refreshData(){this.yamcs.yamcsClient.getTimelineItems(this.yamcs.instance,{source:"rdb"}).then(t=>{this.selection.matchNewValues(t.items||[]),this.dataSource.data=t.items||[]}).catch(t=>this.messageService.showError(t))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.C),e.Y36(b.Dx),e.Y36(Z.e),e.Y36(g.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&e.Gf(v.YE,5),2&t){let a;e.iGM(a=e.CRH())&&(i.sort=a.first)}},decls:13,vars:2,consts:[["mat-button","","color","primary",3,"click"],["mat-button","","color","primary",3,"disabled","click"],[1,"panel-content"],["mat-table","","class","ya-data-table expand","matSort","","matSortActive","name","matSortDirection","asc","matSortDisableClear","",3,"dataSource","trackBy",4,"ngIf"],["mat-table","","matSort","","matSortActive","name","matSortDirection","asc","matSortDisableClear","",1,"ya-data-table","expand",3,"dataSource","trackBy"],["cdkColumnDef","select"],["mat-header-cell","","class","checkbox",4,"cdkHeaderCellDef"],["mat-cell","","class","checkbox",4,"cdkCellDef"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["cdkColumnDef","tags"],["mat-header-cell","","mat-sort-header","",4,"cdkHeaderCellDef"],["mat-cell","",4,"cdkCellDef"],["matColumnDef","start"],["matColumnDef","duration"],["matColumnDef","type"],["matColumnDef","actions"],["mat-header-cell","","class","expand",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"selected","click",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"checkbox"],["type","checkbox",3,"checked","change"],["mat-cell","",1,"checkbox"],["type","checkbox",3,"checked","click","change"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngIf"],["backgroundColor","#cdeefd",4,"ngFor","ngForOf"],["backgroundColor","#cdeefd"],["mat-header-cell","",1,"expand"],["mat-header-row",""],["mat-row","",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"app-instance-page"),e.TgZ(1,"app-instance-toolbar"),e._uU(2," Items \xa0\xa0\xa0 "),e.TgZ(3,"a",0),e.NdJ("click",function(){return i.openCreateItemDialog()}),e.TgZ(4,"mat-icon"),e._uU(5,"add_circle_outline"),e.qZA(),e._uU(6," CREATE ITEM "),e.qZA(),e.TgZ(7,"button",1),e.NdJ("click",function(){return i.deleteSelectedItems()}),e.TgZ(8,"mat-icon"),e._uU(9,"close"),e.qZA(),e._uU(10," DELETE "),e.qZA(),e.qZA(),e.TgZ(11,"div",2),e.YNc(12,Rt,24,4,"table",3),e.qZA(),e.qZA()),2&t&&(e.xp6(7),e.Q6J("disabled",!i.isGroupDeleteEnabled()),e.xp6(5),e.Q6J("ngIf",i.dataSource))},directives:[y.a,C.k,A.zs,U.Hw,A.lW,p.O5,m.BZ,v.YE,T.fo,T.D5,m.ge,T.O_,m.ev,m.w1,m.fO,v.nU,m.Dz,p.sg,Y._,m.as,m.XQ,m.nj,m.Gk],pipes:[ue.i],encapsulation:2,changeDetection:0}),n})();const Lt=function(n){return{c:n}};let ge=(()=>{class n{constructor(t,i,a,s,c){this.yamcs=a,this.messageService=s,this.router=c,t.setTitle("Configure Spacer"),this.form=i.group({name:"",description:"",properties:i.group({height:[M.height,[r.kI.required]]})})}onConfirm(){const t=this.form.value;this.yamcs.yamcsClient.createTimelineBand(this.yamcs.instance,{name:t.name,description:t.description,type:"SPACER",shared:!0,properties:t.properties}).then(()=>this.router.navigateByUrl(`/timeline/bands?c=${this.yamcs.context}`)).catch(i=>this.messageService.showError(i))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.Dx),e.Y36(r.qu),e.Y36(f.C),e.Y36(Z.e),e.Y36(_.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:32,vars:6,consts:[["step","2"],[1,"form-content","ya-form"],["novalidate","","autocomplete","off",3,"formGroup"],[1,"hint"],["type","text","formControlName","name",2,"width","100%"],["formControlName","description","rows","3"],[1,"section-divider"],[3,"form"],[1,"action-bar"],["routerLink","../..",1,"ya-button",3,"queryParams"],["type","submit",1,"ya-button","primary",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"app-instance-page"),e.TgZ(1,"app-instance-toolbar"),e._uU(2," Create band "),e.qZA(),e._UZ(3,"app-create-band-wizard-step",0),e.TgZ(4,"div",1),e.TgZ(5,"form",2),e.TgZ(6,"label"),e._uU(7," Label "),e.TgZ(8,"span",3),e._uU(9,"(optional)"),e.qZA(),e._UZ(10,"br"),e._UZ(11,"input",4),e.qZA(),e._UZ(12,"br"),e.TgZ(13,"label"),e._uU(14," Description "),e.TgZ(15,"span",3),e._uU(16,"(optional)"),e.qZA(),e._UZ(17,"br"),e._UZ(18,"textarea",5),e.qZA(),e._UZ(19,"br"),e.TgZ(20,"div",6),e._UZ(21,"mat-divider"),e.qZA(),e.TgZ(22,"h4"),e._uU(23,"Styles"),e.qZA(),e._UZ(24,"app-spacer-styles",7),e.qZA(),e.TgZ(25,"p"),e._uU(26,"\xa0"),e.qZA(),e.TgZ(27,"div",8),e.TgZ(28,"button",9),e._uU(29,"Cancel"),e.qZA(),e.TgZ(30,"button",10),e.NdJ("click",function(){return i.onConfirm()}),e._uU(31,"CREATE"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(5),e.Q6J("formGroup",i.form),e.xp6(19),e.Q6J("form",i.form),e.xp6(4),e.Q6J("queryParams",e.VKq(4,Lt,i.yamcs.context)),e.xp6(2),e.Q6J("disabled",!i.form.valid))},directives:[y.a,C.k,I,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,q.d,ne,_.rH],encapsulation:2,changeDetection:0}),n})();var D=d(3732),$t=d(8372),Ft=d(1731);function Ht(n,o){if(1&n&&e._UZ(0,"app-edit-item-band",8),2&n){const t=e.oxw().ngIf,i=e.oxw();e.Q6J("form",i.form)("band",t)}}function zt(n,o){if(1&n&&e._UZ(0,"app-edit-spacer",8),2&n){const t=e.oxw().ngIf,i=e.oxw();e.Q6J("form",i.form)("band",t)}}function Gt(n,o){if(1&n&&e._UZ(0,"app-edit-time-ruler",8),2&n){const t=e.oxw().ngIf,i=e.oxw();e.Q6J("form",i.form)("band",t)}}function jt(n,o){if(1&n&&(e.TgZ(0,"div",5),e.TgZ(1,"h2"),e._uU(2,"Edit Band"),e.qZA(),e.TgZ(3,"form",6),e.YNc(4,Ht,1,2,"app-edit-item-band",7),e.YNc(5,zt,1,2,"app-edit-spacer",7),e.YNc(6,Gt,1,2,"app-edit-time-ruler",7),e.qZA(),e.qZA()),2&n){const t=o.ngIf,i=e.oxw();e.xp6(3),e.Q6J("formGroup",i.form),e.xp6(1),e.Q6J("ngIf","ITEM_BAND"===t.type),e.xp6(1),e.Q6J("ngIf","SPACER"===t.type),e.xp6(1),e.Q6J("ngIf","TIME_RULER"===t.type)}}let Xt=(()=>{class n{constructor(t,i,a,s,c){this.dialogRef=t,this.yamcs=i,this.messageService=a,this.data=c,this.dirty$=new x.X(!1);const l=c.band;this.form=s.group({name:[l.name,[r.kI.required]],description:[l.description||""],tags:[l.tags||[]],properties:s.group({})}),this.formSubscription=this.form.valueChanges.subscribe(()=>{this.dirty$.next(!0)})}doOnConfirm(){const t=this.form.value;this.yamcs.yamcsClient.updateTimelineBand(this.yamcs.instance,this.data.band.id,{name:t.name,description:t.description,shared:this.data.band.shared,tags:t.tags,properties:t.properties}).then(a=>this.dialogRef.close(a)).catch(a=>this.messageService.showError(a))}ngOnDestroy(){this.formSubscription&&this.formSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.so),e.Y36(f.C),e.Y36(Z.e),e.Y36(r.qu),e.Y36(g.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:11,vars:4,consts:[[1,"central-pane"],["class","mat-typography ya-form","style","max-width: 600px;",4,"ngIf"],[1,"footer","mat-typography"],["mat-dialog-close","",1,"ya-button"],["type","submit",1,"ya-button","primary",3,"disabled","click"],[1,"mat-typography","ya-form",2,"max-width","600px"],["novalidate","","autocomplete","off",3,"formGroup"],[3,"form","band",4,"ngIf"],[3,"form","band"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,jt,7,4,"div",1),e.qZA(),e.TgZ(2,"div",2),e.TgZ(3,"mat-toolbar"),e.TgZ(4,"mat-toolbar-row"),e.TgZ(5,"button",3),e._uU(6,"Cancel"),e.qZA(),e._uU(7,"\xa0\xa0 "),e.TgZ(8,"button",4),e.NdJ("click",function(){return i.doOnConfirm()}),e.ALo(9,"async"),e._uU(10,"SAVE CHANGES"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",i.data.band),e.xp6(7),e.Q6J("disabled",!e.lcZ(9,2,i.dirty$)||!i.form.valid))},directives:[p.O5,r._Y,r.JL,r.sg,ee,ie,oe,B.Ye,B.rD,g.ZT],pipes:[p.Ov],styles:[".mat-dialog-container{border-radius:0;position:relative}.central-pane[_ngcontent-%COMP%]{position:absolute;inset:0 0 64px;overflow:auto;padding:24px}.footer[_ngcontent-%COMP%]{position:absolute;bottom:0;height:64px;left:0;right:0;border-top:1px solid #d3d3d3}"],changeDetection:0}),n})(),Wt=(()=>{class n{constructor(t,i,a,s,c){this.dialogRef=t,this.yamcs=a,this.messageService=s,this.data=c,this.resolutionOptions=[{id:"seconds",label:"seconds"},{id:"minutes",label:"minutes"},{id:"hours",label:"hours"}],this.startConstraintOptions=[{id:"START_ON",label:"Start on"}];const l=c.item;this.form=i.group({name:[l.name,r.kI.required],start:[l.start,r.kI.required],duration:[l.duration,r.kI.required],tags:[l.tags||[],[]]})}save(){const t=this.form.value,i={name:t.name,start:k.Y6(t.start),duration:t.duration,tags:t.tags};this.yamcs.yamcsClient.updateTimelineItem(this.yamcs.instance,this.data.item.id,i).then(a=>this.dialogRef.close(a)).catch(a=>this.messageService.showError(a))}delete(){confirm("Are you sure you want to delete this item?")&&this.yamcs.yamcsClient.deleteTimelineItem(this.yamcs.instance,this.data.item.id).then(()=>this.dialogRef.close()).catch(t=>this.messageService.showError(t))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.so),e.Y36(r.qu),e.Y36(f.C),e.Y36(Z.e),e.Y36(g.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:35,vars:2,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"ya-form",3,"formGroup"],["type","text","formControlName","name",2,"width","100%"],["dialogTitle","Tags"],["formControlName","tags"],["formControlName","duration"],[1,"section-divider"],["formControlName","start"],["align","end"],[1,"ya-button",3,"click"],[2,"flex","1 1 auto"],["mat-dialog-close","",1,"ya-button"],[1,"ya-button","primary",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"h2",0),e._uU(1,"Update item"),e.qZA(),e.TgZ(2,"mat-dialog-content",1),e.TgZ(3,"form",2),e.TgZ(4,"label"),e._uU(5," Name"),e._UZ(6,"br"),e._UZ(7,"input",3),e.qZA(),e._UZ(8,"br"),e.TgZ(9,"label"),e._uU(10," Tags "),e.TgZ(11,"app-help",4),e._uU(12," Tags allow to categorise items per band. Bands only show items for which one of the tags is matching. "),e.qZA(),e._UZ(13,"br"),e._UZ(14,"app-tag-select",5),e.qZA(),e._UZ(15,"br"),e.TgZ(16,"label"),e._uU(17," Duration "),e._UZ(18,"app-duration-input",6),e.qZA(),e._UZ(19,"br"),e.TgZ(20,"div",7),e._UZ(21,"mat-divider"),e.qZA(),e._UZ(22,"br"),e.TgZ(23,"label"),e._uU(24," Start"),e._UZ(25,"br"),e._UZ(26,"app-date-time-input",8),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"mat-dialog-actions",9),e.TgZ(28,"button",10),e.NdJ("click",function(){return i.delete()}),e._uU(29,"DELETE THIS ITEM"),e.qZA(),e._UZ(30,"div",11),e.TgZ(31,"button",12),e._uU(32,"CANCEL"),e.qZA(),e.TgZ(33,"button",13),e.NdJ("click",function(){return i.save()}),e._uU(34,"SAVE"),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Q6J("formGroup",i.form),e.xp6(30),e.Q6J("disabled",!i.form.valid))},directives:[g.uh,g.xY,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,Q.W,J,me.j,q.d,O.Y,g.H8,g.ZT],encapsulation:2,changeDetection:0}),n})(),Kt=(()=>{class n{constructor(t,i,a,s,c){this.dialogRef=t,this.yamcs=i,this.messageService=s,this.data=c,this.dirty$=new x.X(!1);const l=c.view;this.form=a.group({name:[l.name,r.kI.required],bands:[l.bands||[],[]]}),this.formSubscription=this.form.valueChanges.subscribe(()=>{this.dirty$.next(!0)})}onConfirm(){const t=this.form.value,i={name:t.name,bands:t.bands.map(s=>s.id)};this.yamcs.yamcsClient.updateTimelineView(this.yamcs.instance,this.data.view.id,i).then(s=>this.dialogRef.close(s)).catch(s=>this.messageService.showError(s))}ngOnDestroy(){this.formSubscription&&this.formSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.so),e.Y36(f.C),e.Y36(r.qu),e.Y36(Z.e),e.Y36(g.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-view-dialog"]],decls:25,vars:4,consts:[[1,"mat-typography","ya-form",2,"max-width","600px"],["novalidate","","autocomplete","off",3,"formGroup"],[1,"hint"],["type","text","formControlName","name"],[1,"section-divider"],["formControlName","bands"],[1,"footer","mat-typography"],["mat-dialog-close","",1,"ya-button"],[1,"ya-button","primary",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"form",1),e.TgZ(2,"h2"),e._uU(3,"Edit View"),e.qZA(),e.TgZ(4,"label"),e._uU(5," Name "),e.TgZ(6,"span",2),e._uU(7,"(required)"),e.qZA(),e._UZ(8,"br"),e._UZ(9,"input",3),e.qZA(),e._UZ(10,"br"),e.TgZ(11,"div",4),e._UZ(12,"mat-divider"),e.qZA(),e.TgZ(13,"h4"),e._uU(14,"Bands"),e.qZA(),e._UZ(15,"app-band-multi-select",5),e.qZA(),e.qZA(),e.TgZ(16,"div",6),e.TgZ(17,"mat-toolbar"),e.TgZ(18,"mat-toolbar-row"),e.TgZ(19,"button",7),e._uU(20,"CANCEL"),e.qZA(),e._uU(21,"\xa0\xa0 "),e.TgZ(22,"button",8),e.NdJ("click",function(){return i.onConfirm()}),e.ALo(23,"async"),e._uU(24,"SAVE CHANGES"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("formGroup",i.form),e.xp6(21),e.Q6J("disabled",!e.lcZ(23,2,i.dirty$)||!i.form.valid))},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,q.d,E,B.Ye,B.rD,g.ZT],pipes:[p.Ov],styles:[".mat-dialog-container{border-radius:0;position:relative}.footer[_ngcontent-%COMP%]{position:absolute;bottom:0;height:64px;left:0;right:0;border-top:1px solid #d3d3d3}"],changeDetection:0}),n})(),en=(()=>{class n{constructor(t,i){this.dialogRef=t,this.data=i,this.date=new r.NI(null,[r.kI.required]),this.data.date&&this.date.setValue(k.Y6(this.data.date))}select(){const t=k.ZU(this.date.value);this.dialogRef.close({date:t})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.so),e.Y36(g.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:11,vars:1,consts:[["mat-dialog-title",""],[1,"ya-form","mat-typography"],[3,"formControl"],["align","end"],["mat-dialog-close","",1,"ya-button"],[1,"ya-button","primary",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"h2",0),e._uU(1,"Jump to date"),e.qZA(),e.TgZ(2,"mat-dialog-content",1),e.TgZ(3,"label"),e._uU(4," Date "),e._UZ(5,"app-date-time-input",2),e.qZA(),e.qZA(),e.TgZ(6,"mat-dialog-actions",3),e.TgZ(7,"button",4),e._uU(8,"CANCEL"),e.qZA(),e.TgZ(9,"button",5),e.NdJ("click",function(){return i.select()}),e._uU(10,"OK"),e.qZA(),e.qZA()),2&t&&(e.xp6(5),e.Q6J("formControl",i.date))},directives:[g.uh,g.xY,O.Y,r.JJ,r.oH,g.H8,g.ZT],encapsulation:2,changeDetection:0}),n})();var V=d(2181);const tn=["container"];function nn(n,o){if(1&n&&(e.TgZ(0,"button",13),e._uU(1),e.ALo(2,"async"),e.TgZ(3,"mat-icon"),e._uU(4,"arrow_drop_down"),e.qZA(),e.qZA()),2&n){e.oxw();const t=e.MAs(4),i=e.oxw();let a;e.Q6J("matMenuTriggerFor",t),e.xp6(1),e.hij(" ",(null==(a=e.lcZ(2,2,i.view$))?null:a.name)||"select view"," ")}}function an(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).switchView(s)}),e._uU(1),e.qZA()}if(2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.name)}}const _e=function(n){return{c:n}};function on(n,o){if(1&n&&(e.ynx(0),e.YNc(1,nn,5,4,"button",8),e.ALo(2,"async"),e.TgZ(3,"mat-menu",9,10),e.YNc(5,an,2,1,"button",11),e._UZ(6,"mat-divider"),e.TgZ(7,"a",12),e.TgZ(8,"mat-icon"),e._uU(9,"add_circle_outline"),e.qZA(),e._uU(10," Create view "),e.qZA(),e.qZA(),e.BQk()),2&n){const t=o.ngIf,i=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,3,i.view$)&&i.mayControlTimeline()),e.xp6(4),e.Q6J("ngForOf",t),e.xp6(2),e.Q6J("queryParams",e.VKq(5,_e,i.yamcs.context))}}function rn(n,o){if(1&n&&(e.TgZ(0,"a",17),e.TgZ(1,"mat-icon"),e._uU(2,"add_circle_outline"),e.qZA(),e._uU(3," CREATE VIEW "),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("queryParams",e.VKq(1,_e,t.yamcs.context))}}function sn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){const s=e.CHM(t).ngIf;return e.oxw(2).openEditViewDialog(s)}),e.TgZ(1,"mat-icon"),e._uU(2,"settings"),e.qZA(),e._uU(3," EDIT VIEW "),e.qZA()}}function cn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).openCreateItemDialog()}),e.TgZ(1,"mat-icon"),e._uU(2,"add_circle_outline"),e.qZA(),e._uU(3," ADD ITEM "),e.qZA()}}function ln(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).saveSnapshot()}),e.TgZ(1,"mat-icon"),e._uU(2,"photo_camera"),e.qZA(),e._uU(3," SAVE SNAPSHOT "),e.qZA()}}function mn(n,o){if(1&n&&(e.ynx(0),e.YNc(1,rn,4,3,"a",15),e.ALo(2,"async"),e.YNc(3,sn,4,0,"button",16),e.ALo(4,"async"),e.YNc(5,cn,4,0,"button",16),e.ALo(6,"async"),e.YNc(7,ln,4,0,"button",16),e.ALo(8,"async"),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!e.lcZ(2,4,t.view$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(4,6,t.view$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(6,8,t.view$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(8,10,t.view$))}}function dn(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"datetime"),e.ALo(3,"datetime"),e.qZA()),2&n){const t=o.ngIf;e.xp6(1),e.AsE(" ",e.xi3(2,2,null==t?null:t.start,!1)," \u2013 ",e.lcZ(3,5,null==t?null:t.stop)," ")}}let fe=(()=>{class n{constructor(t,i,a,s,c,l,u){this.yamcs=i,this.dialog=a,this.messageService=s,this.route=c,this.router=l,this.authService=u,this.views$=new x.X([]),this.view$=new x.X(null),this.viewportRange$=new x.X(null),this.lines=[],t.setTitle("Timeline Chart")}ngAfterViewInit(){const t=this.route.snapshot.queryParamMap,i=t.get("view");if(this.yamcs.yamcsClient.getTimelineViews(this.yamcs.instance).then(s=>{var c;this.views$.next(s.views||[]);let l=null;for(const u of s.views||[])if(i===u.id){l=u;break}!l&&!i&&(l=(null===(c=s.views)||void 0===c?void 0:c.length)?s.views[0]:null),l&&this.switchView(l)}),this.timeline=new D.TY(this.container.nativeElement),this.timeline.addViewportChangeListener(s=>{this.viewportRange$.next({start:new Date(s.start),stop:new Date(s.stop)})}),this.viewportRange$.pipe((0,$t.b)(400)).forEach(s=>{this.refreshData(),this.router.navigate([],{replaceUrl:!0,relativeTo:this.route,queryParamsHandling:"merge",queryParams:{start:s.start.toISOString(),stop:s.stop.toISOString()}})}),t.get("start")&&t.get("stop")){const s=k.ZU(t.get("start")),c=k.ZU(t.get("stop"));this.timeline.setViewRange(s.getTime(),c.getTime())}else{const s=this.yamcs.getMissionTime();s.setUTCHours(0,0,0,0);const c=new Date(s.getTime());c.setUTCDate(s.getUTCDate()+1),this.timeline.setViewRange(s.getTime(),c.getTime())}new D._G(this.timeline,()=>this.yamcs.getMissionTime().getTime()).knobColor="salmon",new D.zp(this.timeline),this.timeline.addHeaderClickListener(s=>{this.dialog.open(Xt,{width:"70%",height:"100%",autoFocus:!1,position:{right:"0"},data:{band:s.band.data.band}}).afterClosed().subscribe(u=>{u&&this.refreshView()})}),this.timeline.addEventClickListener(s=>{this.dialog.open(Wt,{width:"600px",data:{item:s.event.data.item}}).afterClosed().subscribe(()=>this.refreshData())}),this.refreshData()}refreshView(){const t=this.view$.value;t&&this.yamcs.yamcsClient.getTimelineView(this.yamcs.instance,t.id).then(i=>this.switchView(i)).catch(i=>this.messageService.showError(i))}switchView(t){this.router.navigate([],{replaceUrl:!0,relativeTo:this.route,queryParams:{view:(null==t?void 0:t.id)||null},queryParamsHandling:"merge"}),this.view$.next(t);for(const i of this.timeline.getBands())this.timeline.removeChild(i);if(t){for(const i of t.bands||[])if("TIME_RULER"===i.type){const a=new D.nY(this.timeline);a.label=i.name,a.timezone=i.properties.timezone,a.data={band:i},this.lines.push(a)}else if("ITEM_BAND"===i.type){const a=new D.D0(this.timeline);a.label=i.name,a.data={band:i};const s=W(i.properties||{});a.frozen=s.frozen,a.eventColor=s.itemBackgroundColor,a.eventBorderColor=s.itemBorderColor,a.eventBorderWidth=s.itemBorderWidth,a.eventCornerRadius=s.itemCornerRadius,a.eventHeight=s.itemHeight,a.eventMarginLeft=s.itemMarginLeft,a.eventTextColor=s.itemTextColor,a.eventTextOverflow=s.itemTextOverflow,a.eventTextSize=s.itemTextSize,a.marginBottom=s.marginBottom,a.marginTop=s.marginTop,a.multiline=s.multiline,a.spaceBetween=s.spaceBetweenItems,a.lineSpacing=s.spaceBetweenLines,this.lines.push(a)}else if("SPACER"===i.type){const a=new D.D0(this.timeline);a.label=i.name,a.data={band:i};const s=te(i.properties||{});a.eventHeight=s.height,a.marginTop=0,a.marginBottom=0,this.lines.push(a)}else if("COMMAND_BAND"===i.type){const a=new D.D0(this.timeline);a.label=i.name,a.data={band:i},this.lines.push(a)}this.refreshData()}}refreshData(){const t=[],i=[],a=this.timeline.stop-this.timeline.start,s=this.timeline.start-a,c=this.timeline.stop+a;for(const l of this.lines){const u=l.data.band;"ITEM_BAND"===u.type?(t.push(l),i.push(this.yamcs.yamcsClient.getTimelineItems(this.yamcs.instance,{source:"rdb",band:u.id,start:new Date(s).toISOString(),stop:new Date(c).toISOString()}))):"COMMAND_BAND"===u.type&&(t.push(l),i.push(this.yamcs.yamcsClient.getTimelineItems(this.yamcs.instance,{source:"commands",band:u.id,start:new Date(s).toISOString(),stop:new Date(c).toISOString()})))}i.length&&Promise.all(i).then(l=>{for(let u=0;u<l.length;u++)this.populateEvents(t[u],l[u].items||[])}).catch(l=>this.messageService.showError(l))}populateEvents(t,i){const a=[];for(const s of i){const c=k.ZU(s.start).getTime(),l=k.bT(s.duration);a.push({start:c,stop:l?c+l:void 0,label:s.name,data:{item:s}})}t.events=a}openCreateItemDialog(){this.dialog.open(de,{width:"600px"}).afterClosed().subscribe(()=>this.refreshData())}openEditViewDialog(t){this.dialog.open(Kt,{width:"70%",height:"100%",autoFocus:!1,position:{right:"0"},data:{view:t}}).afterClosed().subscribe(a=>{a&&this.switchView(a)})}toggleMove(t){this.timeline.panBy(t),window.clearInterval(this.moveInterval),this.moveInterval=window.setInterval(()=>this.timeline.panBy(t),50)}untoggleMove(){window.clearInterval(this.moveInterval),this.moveInterval=void 0}pageLeft(){const{start:t,stop:i}=this.timeline,a=this.timeline.distanceBetween(t,i);this.timeline.panBy(-a)}pageRight(){const{start:t,stop:i}=this.timeline,a=this.timeline.distanceBetween(t,i);this.timeline.panBy(a)}zoomIn(){this.timeline.zoomIn()}zoomOut(){this.timeline.zoomOut()}jumpToToday(){const t=this.yamcs.getMissionTime();t.setUTCHours(0,0,0,0);const i=t.getTime();t.setUTCDate(t.getUTCDate()+1);const a=t.getTime();this.timeline.setViewRange(i,a)}jumpToNow(){const t=this.yamcs.getMissionTime();this.timeline.panTo(t.getTime())}openJumpToDialog(){this.dialog.open(en,{width:"400px",data:{date:new Date(this.timeline.center)}}).afterClosed().subscribe(a=>{a&&this.timeline.panTo(a.date.getTime())})}saveSnapshot(){const t=document.createElement("a");try{t.href=this.timeline.toDataURL(),t.download="timeline_"+this.view$.value.name+"_export.png",document.body.appendChild(t),t.click()}finally{document.body.removeChild(t)}}mayControlTimeline(){return this.authService.getUser().hasSystemPrivilege("ControlTimeline")}ngOnDestroy(){this.timeline.disconnect()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.Dx),e.Y36(f.C),e.Y36(g.uw),e.Y36(Z.e),e.Y36(_.gz),e.Y36(_.F0),e.Y36(Ft.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&e.Gf(tn,7),2&t){let a;e.iGM(a=e.CRH())&&(i.container=a.first)}},decls:43,vars:7,consts:[["noscroll","true"],[4,"ngIf"],[2,"height","24px","margin","6px"],[1,"ya-button",3,"click"],[1,"ya-button",3,"mousedown","mouseup","mouseleave"],[1,"timeline-container"],["container",""],[1,"info"],["mat-button","",3,"matMenuTriggerFor",4,"ngIf"],[1,"ya-menu"],["viewMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","","routerLink","/timeline/views/create",3,"queryParams"],["mat-button","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],["mat-button","","color","primary","routerLink","/timeline/views/create",3,"queryParams",4,"ngIf"],["mat-button","","color","primary",3,"click",4,"ngIf"],["mat-button","","color","primary","routerLink","/timeline/views/create",3,"queryParams"],["mat-button","","color","primary",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"app-instance-page",0),e.TgZ(1,"app-instance-toolbar"),e._uU(2," Timeline Chart \xa0\xa0\xa0 "),e.YNc(3,on,11,7,"ng-container",1),e.ALo(4,"async"),e.YNc(5,mn,9,12,"ng-container",1),e.qZA(),e.TgZ(6,"div",2),e.TgZ(7,"button",3),e.NdJ("click",function(){return i.pageLeft()}),e.TgZ(8,"mat-icon"),e._uU(9,"west"),e.qZA(),e.qZA(),e.TgZ(10,"button",4),e.NdJ("mousedown",function(){return i.toggleMove(-50)})("mouseup",function(){return i.untoggleMove()})("mouseleave",function(){return i.untoggleMove()}),e.TgZ(11,"mat-icon"),e._uU(12,"chevron_left"),e.qZA(),e.qZA(),e.TgZ(13,"button",4),e.NdJ("mousedown",function(){return i.toggleMove(50)})("mouseup",function(){return i.untoggleMove()})("mouseleave",function(){return i.untoggleMove()}),e.TgZ(14,"mat-icon"),e._uU(15,"chevron_right"),e.qZA(),e.qZA(),e.TgZ(16,"button",3),e.NdJ("click",function(){return i.pageRight()}),e.TgZ(17,"mat-icon"),e._uU(18,"east"),e.qZA(),e.qZA(),e._uU(19," \xa0 "),e.TgZ(20,"button",3),e.NdJ("click",function(){return i.jumpToToday()}),e.TgZ(21,"mat-icon"),e._uU(22,"today"),e.qZA(),e._uU(23," Today "),e.qZA(),e.TgZ(24,"button",3),e.NdJ("click",function(){return i.jumpToNow()}),e.TgZ(25,"mat-icon"),e._uU(26,"my_location"),e.qZA(),e.qZA(),e.TgZ(27,"button",3),e.NdJ("click",function(){return i.openJumpToDialog()}),e.TgZ(28,"mat-icon"),e._uU(29,"directions"),e.qZA(),e._uU(30," Jump to... "),e.qZA(),e._uU(31," \xa0 "),e.TgZ(32,"button",3),e.NdJ("click",function(){return i.zoomIn()}),e.TgZ(33,"mat-icon"),e._uU(34,"add"),e.qZA(),e.qZA(),e.TgZ(35,"button",3),e.NdJ("click",function(){return i.zoomOut()}),e.TgZ(36,"mat-icon"),e._uU(37,"remove"),e.qZA(),e.qZA(),e.qZA(),e._UZ(38,"div",5,6),e.TgZ(40,"div",7),e.YNc(41,dn,4,7,"span",1),e.ALo(42,"async"),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Q6J("ngIf",e.lcZ(4,3,i.views$)),e.xp6(2),e.Q6J("ngIf",i.mayControlTimeline()),e.xp6(36),e.Q6J("ngIf",e.lcZ(42,5,i.viewportRange$)))},directives:[y.a,C.k,p.O5,A.lW,V.p6,U.Hw,V.VK,p.sg,V.OP,q.d,_.yS,A.zs],pipes:[p.Ov,ue.i],styles:[".timeline-container[_ngcontent-%COMP%]{line-height:0;border-top:1px solid #d1d5da;position:absolute;inset:36px 0 0}.info[_ngcontent-%COMP%]{position:absolute;bottom:35px;right:0;padding:0 16px;opacity:.75;font-size:small}"],changeDetection:0}),n})();const un=function(n){return{c:n}};let he=(()=>{class n{constructor(t,i,a,s,c){this.yamcs=a,this.messageService=s,this.router=c,t.setTitle("Configure Time Ruler"),this.form=i.group({name:["",[r.kI.required]],description:"",properties:i.group({timezone:["UTC",[r.kI.required]]})})}onConfirm(){const t=this.form.value;this.yamcs.yamcsClient.createTimelineBand(this.yamcs.instance,{name:t.name,description:t.description,type:"TIME_RULER",shared:!0,properties:t.properties}).then(()=>this.router.navigateByUrl(`/timeline/bands?c=${this.yamcs.context}`)).catch(i=>this.messageService.showError(i))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.Dx),e.Y36(r.qu),e.Y36(f.C),e.Y36(Z.e),e.Y36(_.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:32,vars:5,consts:[["step","2"],[1,"form-content","ya-form"],["novalidate","","autocomplete","off",3,"formGroup"],[1,"hint"],["type","text","formControlName","name",2,"width","100%"],["formControlName","description","rows","3"],["formGroupName","properties"],["formControlName","timezone"],[1,"action-bar"],["routerLink","../..",1,"ya-button",3,"queryParams"],["type","submit",1,"ya-button","primary",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"app-instance-page"),e.TgZ(1,"app-instance-toolbar"),e._uU(2," Create band "),e.qZA(),e._UZ(3,"app-create-band-wizard-step",0),e.TgZ(4,"div",1),e.TgZ(5,"form",2),e.TgZ(6,"label"),e._uU(7," Label "),e.TgZ(8,"span",3),e._uU(9,"(required)"),e.qZA(),e._UZ(10,"br"),e._UZ(11,"input",4),e.qZA(),e._UZ(12,"br"),e.TgZ(13,"label"),e._uU(14," Description "),e.TgZ(15,"span",3),e._uU(16,"(optional)"),e.qZA(),e._UZ(17,"br"),e._UZ(18,"textarea",5),e.qZA(),e.ynx(19,6),e._UZ(20,"br"),e.TgZ(21,"label"),e._uU(22," Timezone"),e._UZ(23,"br"),e._UZ(24,"app-timezone-select",7),e.qZA(),e.BQk(),e.qZA(),e.TgZ(25,"p"),e._uU(26,"\xa0"),e.qZA(),e.TgZ(27,"div",8),e.TgZ(28,"button",9),e._uU(29,"Cancel"),e.qZA(),e.TgZ(30,"button",10),e.NdJ("click",function(){return i.onConfirm()}),e._uU(31,"CREATE"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(5),e.Q6J("formGroup",i.form),e.xp6(23),e.Q6J("queryParams",e.VKq(3,un,i.yamcs.context)),e.xp6(2),e.Q6J("disabled",!i.form.valid))},directives:[y.a,C.k,I,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,r.x0,ae.C,_.rH],encapsulation:2,changeDetection:0}),n})();function pn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"th",17),e.TgZ(1,"input",18),e.NdJ("change",function(a){e.CHM(t);const s=e.oxw(2);return a?s.masterToggle():null}),e.qZA(),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())}}function gn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",19),e.TgZ(1,"input",20),e.NdJ("click",function(a){return a.stopPropagation()})("change",function(a){const c=e.CHM(t).$implicit,l=e.oxw(2);return a?l.selection.toggle(c):null}),e.qZA(),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("checked",i.selection.isSelected(t))}}function _n(n,o){1&n&&(e.TgZ(0,"th",21),e._uU(1,"Label"),e.qZA())}const Ze=function(n){return{c:n}};function fn(n,o){if(1&n&&(e.TgZ(0,"td",22),e.TgZ(1,"a",23),e._uU(2),e.qZA(),e.qZA()),2&n){const t=o.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("routerLink",t.id)("queryParams",e.VKq(3,Ze,i.yamcs.context)),e.xp6(1),e.hij(" ",t.name," ")}}function hn(n,o){1&n&&(e.TgZ(0,"th",24),e._uU(1,"Description"),e.qZA())}function Zn(n,o){if(1&n&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.description||"-"," ")}}function Tn(n,o){1&n&&e._UZ(0,"th",25)}function bn(n,o){1&n&&e._UZ(0,"td",22)}function yn(n,o){1&n&&e._UZ(0,"tr",26)}function Cn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",27),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).toggleOne(s)}),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw(2);e.ekj("selected",i.selection.isSelected(t))}}function xn(n,o){if(1&n&&(e.TgZ(0,"table",4),e.ynx(1,5),e.YNc(2,pn,2,1,"th",6),e.YNc(3,gn,2,1,"td",7),e.BQk(),e.ynx(4,8),e.YNc(5,_n,2,0,"th",9),e.YNc(6,fn,3,5,"td",10),e.BQk(),e.ynx(7,11),e.YNc(8,hn,2,0,"th",12),e.YNc(9,Zn,2,1,"td",10),e.BQk(),e.ynx(10,13),e.YNc(11,Tn,1,0,"th",14),e.YNc(12,bn,1,0,"td",10),e.BQk(),e.YNc(13,yn,1,0,"tr",15),e.YNc(14,Cn,1,2,"tr",16),e.qZA()),2&n){const t=e.oxw();e.Q6J("dataSource",t.dataSource)("trackBy",t.tableTrackerFn),e.xp6(13),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns)}}const An=[{path:"",canActivate:[L.a,ye.z],canActivateChild:[L.a],runGuardsAndResolvers:"always",component:Ce.K,children:[{path:"",pathMatch:"full",redirectTo:"chart"},{path:"chart",component:fe},{path:"views",pathMatch:"full",component:(()=>{class n{constructor(t,i,a){this.yamcs=t,this.messageService=a,this.displayedColumns=["select","name","description","actions"],this.tableTrackerFn=(s,c)=>c.id,this.dataSource=new m.by,this.selection=new N.O(this.tableTrackerFn,!0,[]),i.setTitle("Timeline Views"),this.refreshData()}ngAfterViewInit(){this.dataSource.sort=this.sort}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(t=>this.selection.select(t))}toggleOne(t){(!this.selection.isSelected(t)||this.selection.selected.length>1)&&this.selection.clear(),this.selection.toggle(t)}deleteSelectedViews(){if(confirm("Are you sure you want to delete the selected views?"))for(const t of this.selection.selected)this.deleteView(t.id,!1)}deleteView(t,i=!0){(!i||confirm("Are you sure you want to delete the selected view?"))&&this.yamcs.yamcsClient.deleteTimelineView(this.yamcs.instance,t).then(()=>this.refreshData()).catch(a=>this.messageService.showError(a))}isGroupDeleteEnabled(){return!this.selection.isEmpty()}refreshData(){this.yamcs.yamcsClient.getTimelineViews(this.yamcs.instance).then(t=>{this.selection.matchNewValues(t.views||[]),this.dataSource.data=t.views||[]}).catch(t=>this.messageService.showError(t))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.C),e.Y36(b.Dx),e.Y36(Z.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&e.Gf(v.YE,5),2&t){let a;e.iGM(a=e.CRH())&&(i.sort=a.first)}},decls:13,vars:5,consts:[["mat-button","","color","primary","routerLink","create",3,"queryParams"],["mat-button","","color","primary",3,"disabled","click"],[1,"panel-content"],["mat-table","","class","ya-data-table expand","matSort","","matSortActive","name","matSortDirection","asc","matSortDisableClear","",3,"dataSource","trackBy",4,"ngIf"],["mat-table","","matSort","","matSortActive","name","matSortDirection","asc","matSortDisableClear","",1,"ya-data-table","expand",3,"dataSource","trackBy"],["cdkColumnDef","select"],["mat-header-cell","","class","checkbox",4,"cdkHeaderCellDef"],["mat-cell","","class","checkbox",4,"cdkCellDef"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","description"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","actions"],["mat-header-cell","","class","expand",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"selected","click",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"checkbox"],["type","checkbox",3,"checked","change"],["mat-cell","",1,"checkbox"],["type","checkbox",3,"checked","click","change"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[3,"routerLink","queryParams"],["mat-header-cell",""],["mat-header-cell","",1,"expand"],["mat-header-row",""],["mat-row","",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"app-instance-page"),e.TgZ(1,"app-instance-toolbar"),e._uU(2," Views \xa0\xa0\xa0 "),e.TgZ(3,"a",0),e.TgZ(4,"mat-icon"),e._uU(5,"add_circle_outline"),e.qZA(),e._uU(6," CREATE VIEW "),e.qZA(),e.TgZ(7,"button",1),e.NdJ("click",function(){return i.deleteSelectedViews()}),e.TgZ(8,"mat-icon"),e._uU(9,"close"),e.qZA(),e._uU(10," DELETE "),e.qZA(),e.qZA(),e.TgZ(11,"div",2),e.YNc(12,xn,15,4,"table",3),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Q6J("queryParams",e.VKq(3,Ze,i.yamcs.context)),e.xp6(4),e.Q6J("disabled",!i.isGroupDeleteEnabled()),e.xp6(5),e.Q6J("ngIf",i.dataSource))},directives:[y.a,C.k,A.zs,_.yS,U.Hw,A.lW,p.O5,m.BZ,v.YE,T.fo,T.D5,m.ge,T.O_,m.ev,m.w1,m.fO,v.nU,m.Dz,m.as,m.XQ,m.nj,m.Gk],encapsulation:2,changeDetection:0}),n})()},{path:"views/create",pathMatch:"full",component:j},{path:"views/:view",pathMatch:"full",component:ce},{path:"bands",pathMatch:"full",component:F},{path:"bands/create",pathMatch:"full",component:z},{path:"bands/create/item-band",pathMatch:"full",component:le},{path:"bands/create/spacer",pathMatch:"full",component:ge},{path:"bands/create/time-ruler",pathMatch:"full",component:he},{path:"bands/create/command-band",pathMatch:"full",component:H},{path:"bands/:band",pathMatch:"full",component:re},{path:"items",pathMatch:"full",component:pe}]}];let qn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[_.Bz.forChild(An)],_.Bz]}),n})(),wn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[be.m,qn]]}),n})()}}]);